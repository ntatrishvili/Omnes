{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to OMNES Getting Started New to OMNES? Start here: Configuration & Usage Guide - Setup and basic usage Developer Guide - Architecture and development workflow Agent Guide - Working with AI coding assistants Documentation API Reference Browse the complete API documentation organized by module: Infrastructure - Core data structures Timeseries Object Singleton Util Model - Optimization model components Model Entity Relation Conversion - Solver interfaces PuLP Converter Project Resources Changelog - Version history and updates Contributing Guide - How to contribute License - MIT License Support Issue Tracker - Report bugs or request features Discussions - Ask questions and share ideas Last updated: December 2025","title":"Welcome to OMNES"},{"location":"#welcome-to-omnes","text":"","title":"Welcome to OMNES"},{"location":"#getting-started","text":"New to OMNES? Start here: Configuration & Usage Guide - Setup and basic usage Developer Guide - Architecture and development workflow Agent Guide - Working with AI coding assistants","title":"Getting Started"},{"location":"#documentation","text":"","title":"Documentation"},{"location":"#api-reference","text":"Browse the complete API documentation organized by module: Infrastructure - Core data structures Timeseries Object Singleton Util Model - Optimization model components Model Entity Relation Conversion - Solver interfaces PuLP Converter","title":"API Reference"},{"location":"#project-resources","text":"Changelog - Version history and updates Contributing Guide - How to contribute License - MIT License","title":"Project Resources"},{"location":"#support","text":"Issue Tracker - Report bugs or request features Discussions - Ask questions and share ideas Last updated: December 2025","title":"Support"},{"location":"AGENT_GUIDE/","text":"AI Guide Test Guide Use only pytest (no unittest , no test classes). All tests are top-level functions named test_* . Use @pytest.fixture for setup/data. Use plain assert for checks. Use @pytest.mark.parametrize for multiple cases. Use pytest.raises for exceptions. Use tmp_path / tmpdir for temp files. Each test must be independent. Example: import pytest from mymodule import myfunc @pytest . fixture def sample_data (): return [ 1 , 2 , 3 ] def test_myfunc_basic ( sample_data ): assert myfunc ( sample_data ) == expected_result @pytest . mark . parametrize ( \"input,expected\" , [( 1 , 2 ), ( 2 , 3 )]) def test_myfunc_param ( input , expected ): assert myfunc ( input ) == expected def test_myfunc_error (): with pytest . raises ( ValueError ): myfunc ( bad_input ) Docstring Style Guide (PEP287 reST) Use short, concise reST (PEP287) docstrings for all modules, classes, and functions. Function Docstring Template def func ( arg1 , arg2 ): \"\"\"Short summary. :param int arg1: Description :param str arg2: Description :returns bool: Description :raises ValueError: If something goes wrong \"\"\" Class Docstring Template class MyClass : \"\"\"Short summary. :ivar int attr: Description :ivar str other: Description \"\"\" Module Docstring Template \"\"\"Short summary of the module. :var str VERSION: Module version \"\"\" Best Practices Use a single short summary line if possible. Use field lists with type on the same line as param/return (e.g., :param int foo: ...) Only document what isn\u2019t obvious from the signature. Use imperative mood for descriptions. Prefer single-line docstrings for trivial functions. Examples def add ( a , b ): \"\"\"Add two numbers. :param float a: First number :param float b: Second number :returns float: Sum of a and b \"\"\" class User : \"\"\"User object. :ivar str name: User name :ivar int age: User age \"\"\"","title":"AI Guide"},{"location":"AGENT_GUIDE/#ai-guide","text":"","title":"AI Guide"},{"location":"AGENT_GUIDE/#test-guide","text":"Use only pytest (no unittest , no test classes). All tests are top-level functions named test_* . Use @pytest.fixture for setup/data. Use plain assert for checks. Use @pytest.mark.parametrize for multiple cases. Use pytest.raises for exceptions. Use tmp_path / tmpdir for temp files. Each test must be independent. Example: import pytest from mymodule import myfunc @pytest . fixture def sample_data (): return [ 1 , 2 , 3 ] def test_myfunc_basic ( sample_data ): assert myfunc ( sample_data ) == expected_result @pytest . mark . parametrize ( \"input,expected\" , [( 1 , 2 ), ( 2 , 3 )]) def test_myfunc_param ( input , expected ): assert myfunc ( input ) == expected def test_myfunc_error (): with pytest . raises ( ValueError ): myfunc ( bad_input )","title":"Test Guide"},{"location":"AGENT_GUIDE/#docstring-style-guide-pep287-rest","text":"Use short, concise reST (PEP287) docstrings for all modules, classes, and functions.","title":"Docstring Style Guide (PEP287 reST)"},{"location":"AGENT_GUIDE/#function-docstring-template","text":"def func ( arg1 , arg2 ): \"\"\"Short summary. :param int arg1: Description :param str arg2: Description :returns bool: Description :raises ValueError: If something goes wrong \"\"\"","title":"Function Docstring Template"},{"location":"AGENT_GUIDE/#class-docstring-template","text":"class MyClass : \"\"\"Short summary. :ivar int attr: Description :ivar str other: Description \"\"\"","title":"Class Docstring Template"},{"location":"AGENT_GUIDE/#module-docstring-template","text":"\"\"\"Short summary of the module. :var str VERSION: Module version \"\"\"","title":"Module Docstring Template"},{"location":"AGENT_GUIDE/#best-practices","text":"Use a single short summary line if possible. Use field lists with type on the same line as param/return (e.g., :param int foo: ...) Only document what isn\u2019t obvious from the signature. Use imperative mood for descriptions. Prefer single-line docstrings for trivial functions.","title":"Best Practices"},{"location":"AGENT_GUIDE/#examples","text":"def add ( a , b ): \"\"\"Add two numbers. :param float a: First number :param float b: Second number :returns float: Sum of a and b \"\"\" class User : \"\"\"User object. :ivar str name: User name :ivar int age: User age \"\"\"","title":"Examples"},{"location":"CONTRIBUTING/","text":"Contributing to Omnes Thank you for your interest in contributing to Omnes ! We welcome all kinds of contributions: new features, bug fixes, documentation, tests, and more. Contribution Workflow 1. Fork the Repository Visit: Omnes GitHub Repo Click \"Fork\" to create your copy. 2. Clone Your Fork Locally git clone https://github.com/<your-username>/Omnes.git cd Omnes 3. Set Up Your Environment We recommend using Poetry for dependency management: poetry install 4. Pick an Open Issue Browse issues: GitHub Issues Comment to claim one or suggest a new enhancement. 5. Create a Branch git checkout -b <issue-number>-short-description 6. Make Your Changes Modify the code based on the issue Always add unit tests for new logic Follow project conventions 7. Run Tests pytest 8. Format & Secure Code black . bandit -r . --exclude ./tests/ 9. Commit and Push git add . git commit -m \"Fix #<issue-number>: <brief description>\" git push origin <branch-name> 10. Open a Pull Request Title: Fix #<issue-number>: <issue title> Fill out the pull request checklist Add reviewers: Nia Tatrishvili and Lilla Barancsuk Pull Request Checklist [ ] My code follows the style guidelines [ ] I have performed a self-review [ ] I have added tests [ ] I have run black and bandit [ ] I have linked the related GitHub issue [ ] I have added Nia Tatrishvili and Lilla Barancsuk as reviewers Review Process After opening a PR, GitHub will notify the reviewers. Nia Tatrishvili and Lilla Barancsuk will review your PR and leave comments or approve. You may be asked to revise code for clarity, design, or test coverage. Once approved and all checks pass, the PR will be merged by a maintainer. License By contributing, you agree that your contributions will be licensed under the MIT License . Thanks again for contributing to Omnes !","title":"Contributing to Omnes"},{"location":"CONTRIBUTING/#contributing-to-omnes","text":"Thank you for your interest in contributing to Omnes ! We welcome all kinds of contributions: new features, bug fixes, documentation, tests, and more.","title":"Contributing to Omnes"},{"location":"CONTRIBUTING/#contribution-workflow","text":"","title":"Contribution Workflow"},{"location":"CONTRIBUTING/#1-fork-the-repository","text":"Visit: Omnes GitHub Repo Click \"Fork\" to create your copy.","title":"1. Fork the Repository"},{"location":"CONTRIBUTING/#2-clone-your-fork-locally","text":"git clone https://github.com/<your-username>/Omnes.git cd Omnes","title":"2. Clone Your Fork Locally"},{"location":"CONTRIBUTING/#3-set-up-your-environment","text":"We recommend using Poetry for dependency management: poetry install","title":"3. Set Up Your Environment"},{"location":"CONTRIBUTING/#4-pick-an-open-issue","text":"Browse issues: GitHub Issues Comment to claim one or suggest a new enhancement.","title":"4. Pick an Open Issue"},{"location":"CONTRIBUTING/#5-create-a-branch","text":"git checkout -b <issue-number>-short-description","title":"5. Create a Branch"},{"location":"CONTRIBUTING/#6-make-your-changes","text":"Modify the code based on the issue Always add unit tests for new logic Follow project conventions","title":"6. Make Your Changes"},{"location":"CONTRIBUTING/#7-run-tests","text":"pytest","title":"7. Run Tests"},{"location":"CONTRIBUTING/#8-format-secure-code","text":"black . bandit -r . --exclude ./tests/","title":"8. Format &amp; Secure Code"},{"location":"CONTRIBUTING/#9-commit-and-push","text":"git add . git commit -m \"Fix #<issue-number>: <brief description>\" git push origin <branch-name>","title":"9. Commit and Push"},{"location":"CONTRIBUTING/#10-open-a-pull-request","text":"Title: Fix #<issue-number>: <issue title> Fill out the pull request checklist Add reviewers: Nia Tatrishvili and Lilla Barancsuk","title":"10. Open a Pull Request"},{"location":"CONTRIBUTING/#pull-request-checklist","text":"[ ] My code follows the style guidelines [ ] I have performed a self-review [ ] I have added tests [ ] I have run black and bandit [ ] I have linked the related GitHub issue [ ] I have added Nia Tatrishvili and Lilla Barancsuk as reviewers","title":"Pull Request Checklist"},{"location":"CONTRIBUTING/#review-process","text":"After opening a PR, GitHub will notify the reviewers. Nia Tatrishvili and Lilla Barancsuk will review your PR and leave comments or approve. You may be asked to revise code for clarity, design, or test coverage. Once approved and all checks pass, the PR will be merged by a maintainer.","title":"Review Process"},{"location":"CONTRIBUTING/#license","text":"By contributing, you agree that your contributions will be licensed under the MIT License . Thanks again for contributing to Omnes !","title":"License"},{"location":"DEVELOPER_GUIDE/","text":"Developer Guide Development standards and workflows for the Omnes energy system modeling platform. Setup git clone https://github.com/ntatrishvili/Omnes.git cd Omnes python -m venv venv # Activate virtual environment (platform-specific) pip install -r requirements.txt python main.py # Verify installation Testing Run all tests with coverage python -m pytest --cov = app --cov-report = html --cov-report = term-missing -v Specific test commands python -m pytest test/test_conversion/ -v # Conversion module only python -m pytest test/path/to/test_file.py -v # Single test file python -m pytest -v --tb = short # Concise error output Coverage reports are generated in htmlcov/index.html . Code Quality Pre-commit checklist black . # Code formatting isort . # Import sorting python -m pytest -v # All tests pass Optional tools mypy app/ # Type checking flake8 app/ # Linting pylint app/ # Additional linting Development Workflow Branch : git checkout -b feature/feature-name Develop : Write code + tests, following existing patterns Quality check : Run pre-commit checklist Commit : Descriptive messages following conventional commits Push : Create pull request with clear description Architecture app/ \u251c\u2500\u2500 conversion/ # Data transformation utilities \u2502 \u251c\u2500\u2500 pulp_converter.py \u2502 \u251c\u2500\u2500 validation_utils.py \u2502 \u2514\u2500\u2500 pulp_utils.py \u251c\u2500\u2500 infra/ # Core infrastructure \u251c\u2500\u2500 model/ # Data models \u2514\u2500\u2500 operation/ # Optimization logic test/ # Test suite mirroring app/ structure Standards Docstrings : NumPy style (see DOCSTRING_STYLE_GUIDE.md ) Type hints : Required for all public functions Testing : Comprehensive tests for new functionality Coverage : Target >90% for new code Naming : Follow PEP 8 conventions Debugging python -m pytest test/specific_test.py::TestClass::test_method -v -s # Single test with output python -m pytest --pdb # Drop to debugger on failure Release Process All tests pass with good coverage Documentation updated Pull request with detailed description Code review and approval Merge to main","title":"Developer Guide"},{"location":"DEVELOPER_GUIDE/#developer-guide","text":"Development standards and workflows for the Omnes energy system modeling platform.","title":"Developer Guide"},{"location":"DEVELOPER_GUIDE/#setup","text":"git clone https://github.com/ntatrishvili/Omnes.git cd Omnes python -m venv venv # Activate virtual environment (platform-specific) pip install -r requirements.txt python main.py # Verify installation","title":"Setup"},{"location":"DEVELOPER_GUIDE/#testing","text":"","title":"Testing"},{"location":"DEVELOPER_GUIDE/#run-all-tests-with-coverage","text":"python -m pytest --cov = app --cov-report = html --cov-report = term-missing -v","title":"Run all tests with coverage"},{"location":"DEVELOPER_GUIDE/#specific-test-commands","text":"python -m pytest test/test_conversion/ -v # Conversion module only python -m pytest test/path/to/test_file.py -v # Single test file python -m pytest -v --tb = short # Concise error output Coverage reports are generated in htmlcov/index.html .","title":"Specific test commands"},{"location":"DEVELOPER_GUIDE/#code-quality","text":"","title":"Code Quality"},{"location":"DEVELOPER_GUIDE/#pre-commit-checklist","text":"black . # Code formatting isort . # Import sorting python -m pytest -v # All tests pass","title":"Pre-commit checklist"},{"location":"DEVELOPER_GUIDE/#optional-tools","text":"mypy app/ # Type checking flake8 app/ # Linting pylint app/ # Additional linting","title":"Optional tools"},{"location":"DEVELOPER_GUIDE/#development-workflow","text":"Branch : git checkout -b feature/feature-name Develop : Write code + tests, following existing patterns Quality check : Run pre-commit checklist Commit : Descriptive messages following conventional commits Push : Create pull request with clear description","title":"Development Workflow"},{"location":"DEVELOPER_GUIDE/#architecture","text":"app/ \u251c\u2500\u2500 conversion/ # Data transformation utilities \u2502 \u251c\u2500\u2500 pulp_converter.py \u2502 \u251c\u2500\u2500 validation_utils.py \u2502 \u2514\u2500\u2500 pulp_utils.py \u251c\u2500\u2500 infra/ # Core infrastructure \u251c\u2500\u2500 model/ # Data models \u2514\u2500\u2500 operation/ # Optimization logic test/ # Test suite mirroring app/ structure","title":"Architecture"},{"location":"DEVELOPER_GUIDE/#standards","text":"Docstrings : NumPy style (see DOCSTRING_STYLE_GUIDE.md ) Type hints : Required for all public functions Testing : Comprehensive tests for new functionality Coverage : Target >90% for new code Naming : Follow PEP 8 conventions","title":"Standards"},{"location":"DEVELOPER_GUIDE/#debugging","text":"python -m pytest test/specific_test.py::TestClass::test_method -v -s # Single test with output python -m pytest --pdb # Drop to debugger on failure","title":"Debugging"},{"location":"DEVELOPER_GUIDE/#release-process","text":"All tests pass with good coverage Documentation updated Pull request with detailed description Code review and approval Merge to main","title":"Release Process"},{"location":"changelog/","text":"CHANGELOG 0.7.0 (2025-08-08) Added changelog, updated documentation. 0.6.0 (2025-07-16) Modified quantities accessor with . operator instead of dictionary access. 0.5.0 (2025-07-06) Added unit tests. Added pipelines for unit test coverage. 0.4.0 (2025-06-11) Added a sample DSL. 0.3.0 (2025-05-25) Use Timeseries objects instead of Pandas Dataframes. 0.2.0 (2025-04-16) Added more test cases. 0.1.0 (2025-04-10) Created an initial MVP converting a JSON description to a simple PuLP problem and displying outputs.","title":"CHANGELOG"},{"location":"changelog/#changelog","text":"","title":"CHANGELOG"},{"location":"changelog/#070-2025-08-08","text":"Added changelog, updated documentation.","title":"0.7.0 (2025-08-08)"},{"location":"changelog/#060-2025-07-16","text":"Modified quantities accessor with . operator instead of dictionary access.","title":"0.6.0 (2025-07-16)"},{"location":"changelog/#050-2025-07-06","text":"Added unit tests. Added pipelines for unit test coverage.","title":"0.5.0 (2025-07-06)"},{"location":"changelog/#040-2025-06-11","text":"Added a sample DSL.","title":"0.4.0 (2025-06-11)"},{"location":"changelog/#030-2025-05-25","text":"Use Timeseries objects instead of Pandas Dataframes.","title":"0.3.0 (2025-05-25)"},{"location":"changelog/#020-2025-04-16","text":"Added more test cases.","title":"0.2.0 (2025-04-16)"},{"location":"changelog/#010-2025-04-10","text":"Created an initial MVP converting a JSON description to a simple PuLP problem and displying outputs.","title":"0.1.0 (2025-04-10)"},{"location":"readme/","text":"Omnes Omnes is an energy system modelling platform that lets you transform structured datasets into solvable energy models using a simple configuration and processing pipeline. Built for flexibility and clarity, Omnes supports modular data uploads, transformation, and model execution \u2014 currently with support PuLP solver and Pandapower simulator. Features Upload data files to the data/ folder to describe your energy system (e.g., technologies, resources, demands) Easily configure the time set, resolution, and model settings via config.ini Transform input data into a model-ready format Run your custom optimization script with full PuLP integration Run your custom simulation with Pandapower Repository Structure Omnes/ \u251c\u2500\u2500 .github/ # GitHub workflows and config (e.g. CI/CD) \u251c\u2500\u2500 app/ # Core application logic \u2502 \u251c\u2500\u2500 conversion/ # Data transformation and conversion \u2502 \u251c\u2500\u2500 infra/ # Infrastructure utilities & helpers \u2502 \u251c\u2500\u2500 model/ # Data model components \u2502 \u251c\u2500\u2500 operation/ # Main modelling and optimization logic \u2502 \u2514\u2500\u2500 __init__.py \u251c\u2500\u2500 data/ # Input datasets and model configuration Getting Started 1. Clone the repository git clone https://github.com/ntatrishvili/Omnes.git cd Omnes 2. Install dependencies pip install -r requirements.txt Note: You must have a working Gurobi license and gurobipy installed. 3. Add your data Place your system definition files (CSV, Excel, etc.) into the data/ folder. These files represent your technologies, time series, costs, and other elements. 4. Configure model settings Edit config.ini to set your time resolution , frequency , and other options: [time] time_set = 10000 frequency = H # e.g., H for hourly, D for daily 5. Run the model python main.py This will transform the input data, build your energy system model, and run it using your configured script in operation/ . Requirements Python 3.9+ Gurobi (Academic or commercial license) gurobipy , pandas , numpy , configparser , etc. (see requirements.txt ) Contributing Contributions are welcome! Please open an issue or pull request to discuss improvements, bugs, or new features. License MIT License \u2014 see LICENSE file. SPDX-License-Identifier: MIT How to cite If you use this framework in academic work or reports, please cite it as: Tatrishvili N., Barancsuk L., Lorenti G., Optimization and Simulation of Multi-node Multi-Energy Systems (version 1.0), GitHub repository, 2025. Available at: https://github.com/ntatrishvili/Omnes You can also use a BibTeX-style entry: @misc { omnes, author = { Tatrishvili N., Barancsuk L., Lorenti G. } , title = { Optimization and Simulation of Multi-node Multi-Energy Systems } , year = { 2025 } , howpublished = { GitHub repository } , note = { Version 1.0 } , url = { https://github.com/ntatrishvili/Omnes } } Maintainer Built and maintained by - Nia Tatrishvili - Lilla Barancsuk - Gianmarco Lorenti \ud83c\udf93 Acknowledgments This project was developed as part of a Bachelor's Thesis at the Budapest University of Technology and Economics (BME) , in collaboration with the Politecnico di Torino and the HUN-REN Centre for Energy Research .","title":"Readme"},{"location":"readme/#omnes","text":"Omnes is an energy system modelling platform that lets you transform structured datasets into solvable energy models using a simple configuration and processing pipeline. Built for flexibility and clarity, Omnes supports modular data uploads, transformation, and model execution \u2014 currently with support PuLP solver and Pandapower simulator.","title":"Omnes"},{"location":"readme/#features","text":"Upload data files to the data/ folder to describe your energy system (e.g., technologies, resources, demands) Easily configure the time set, resolution, and model settings via config.ini Transform input data into a model-ready format Run your custom optimization script with full PuLP integration Run your custom simulation with Pandapower","title":"Features"},{"location":"readme/#repository-structure","text":"Omnes/ \u251c\u2500\u2500 .github/ # GitHub workflows and config (e.g. CI/CD) \u251c\u2500\u2500 app/ # Core application logic \u2502 \u251c\u2500\u2500 conversion/ # Data transformation and conversion \u2502 \u251c\u2500\u2500 infra/ # Infrastructure utilities & helpers \u2502 \u251c\u2500\u2500 model/ # Data model components \u2502 \u251c\u2500\u2500 operation/ # Main modelling and optimization logic \u2502 \u2514\u2500\u2500 __init__.py \u251c\u2500\u2500 data/ # Input datasets and model configuration","title":"Repository Structure"},{"location":"readme/#getting-started","text":"","title":"Getting Started"},{"location":"readme/#1-clone-the-repository","text":"git clone https://github.com/ntatrishvili/Omnes.git cd Omnes","title":"1. Clone the repository"},{"location":"readme/#2-install-dependencies","text":"pip install -r requirements.txt Note: You must have a working Gurobi license and gurobipy installed.","title":"2. Install dependencies"},{"location":"readme/#3-add-your-data","text":"Place your system definition files (CSV, Excel, etc.) into the data/ folder. These files represent your technologies, time series, costs, and other elements.","title":"3. Add your data"},{"location":"readme/#4-configure-model-settings","text":"Edit config.ini to set your time resolution , frequency , and other options: [time] time_set = 10000 frequency = H # e.g., H for hourly, D for daily","title":"4. Configure model settings"},{"location":"readme/#5-run-the-model","text":"python main.py This will transform the input data, build your energy system model, and run it using your configured script in operation/ .","title":"5. Run the model"},{"location":"readme/#requirements","text":"Python 3.9+ Gurobi (Academic or commercial license) gurobipy , pandas , numpy , configparser , etc. (see requirements.txt )","title":"Requirements"},{"location":"readme/#contributing","text":"Contributions are welcome! Please open an issue or pull request to discuss improvements, bugs, or new features.","title":"Contributing"},{"location":"readme/#license","text":"MIT License \u2014 see LICENSE file. SPDX-License-Identifier: MIT","title":"License"},{"location":"readme/#how-to-cite","text":"If you use this framework in academic work or reports, please cite it as: Tatrishvili N., Barancsuk L., Lorenti G., Optimization and Simulation of Multi-node Multi-Energy Systems (version 1.0), GitHub repository, 2025. Available at: https://github.com/ntatrishvili/Omnes You can also use a BibTeX-style entry: @misc { omnes, author = { Tatrishvili N., Barancsuk L., Lorenti G. } , title = { Optimization and Simulation of Multi-node Multi-Energy Systems } , year = { 2025 } , howpublished = { GitHub repository } , note = { Version 1.0 } , url = { https://github.com/ntatrishvili/Omnes } }","title":"How to cite"},{"location":"readme/#maintainer","text":"Built and maintained by - Nia Tatrishvili - Lilla Barancsuk - Gianmarco Lorenti","title":"Maintainer"},{"location":"readme/#acknowledgments","text":"This project was developed as part of a Bachelor's Thesis at the Budapest University of Technology and Economics (BME) , in collaboration with the Politecnico di Torino and the HUN-REN Centre for Energy Research .","title":"\ud83c\udf93 Acknowledgments"},{"location":"conversion/context/","text":"app.conversion.context","title":"Context"},{"location":"conversion/context/#app.conversion.context","text":"","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;context"},{"location":"conversion/conversion_utils/","text":"app.conversion.conversion_utils Conversion-specific utility functions for optimization problems. This module contains utilities specifically for working with conversion functionality variables, constraints, and expressions. create_empty_pulp_var ( name , time_set_size ) Create a list of empty LpVariable with the specified name and time set size. Parameters: name : str Base name for the variables time_set_size : int Number of time steps to create variables for Returns: List[pulp.LpVariable] List of PuLP variables with non-negative bounds handle_arithmetic_operator ( operator , left_result , right_result ) Handle arithmetic operators for expression creation. Parameters: operator : Operator The arithmetic operator left_result : Any Left operand result right_result : Any Right operand result Returns: PuLP expression The resulting arithmetic expression Raises: ValueError If the operation violates linear programming constraints handle_comparison_operator ( operator , left_result , right_result ) Handle comparison operators for constraint creation. Parameters: operator : Operator The comparison operator left_result : Any Left operand result right_result : Any Right operand result Returns: PuLP constraint The resulting constraint is_arithmetic_operator ( operator ) Check if operator is an arithmetic operator. Parameters: operator : Operator The operator to check Returns: bool True if operator is an arithmetic operator is_comparison_operator ( operator ) Check if operator is a comparison operator. Parameters: operator : Operator The operator to check Returns: bool True if operator is a comparison operator validate_linear_division ( right_result ) Validate that division maintains linearity. Parameters: right_result : Any The divisor Raises: ValueError If divisor is a variable (non-linear) validate_linear_multiplication ( left_result , right_result ) Validate that multiplication maintains linearity. Parameters: left_result : Any Left operand right_result : Any Right operand Raises: ValueError If both operands are variables (non-linear) warn_about_not_equal_constraint () Warn user about complexity of not-equal constraints.","title":"Conversion utils"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils","text":"Conversion-specific utility functions for optimization problems. This module contains utilities specifically for working with conversion functionality variables, constraints, and expressions.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;conversion_utils"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.create_empty_pulp_var","text":"Create a list of empty LpVariable with the specified name and time set size.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-function\"></code>&nbsp;create_empty_pulp_var"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.create_empty_pulp_var--parameters","text":"name : str Base name for the variables time_set_size : int Number of time steps to create variables for","title":"Parameters:"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.create_empty_pulp_var--returns","text":"List[pulp.LpVariable] List of PuLP variables with non-negative bounds","title":"Returns:"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.handle_arithmetic_operator","text":"Handle arithmetic operators for expression creation.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-function\"></code>&nbsp;handle_arithmetic_operator"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.handle_arithmetic_operator--parameters","text":"operator : Operator The arithmetic operator left_result : Any Left operand result right_result : Any Right operand result","title":"Parameters:"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.handle_arithmetic_operator--returns","text":"PuLP expression The resulting arithmetic expression","title":"Returns:"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.handle_arithmetic_operator--raises","text":"ValueError If the operation violates linear programming constraints","title":"Raises:"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.handle_comparison_operator","text":"Handle comparison operators for constraint creation.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-function\"></code>&nbsp;handle_comparison_operator"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.handle_comparison_operator--parameters","text":"operator : Operator The comparison operator left_result : Any Left operand result right_result : Any Right operand result","title":"Parameters:"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.handle_comparison_operator--returns","text":"PuLP constraint The resulting constraint","title":"Returns:"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.is_arithmetic_operator","text":"Check if operator is an arithmetic operator.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-function\"></code>&nbsp;is_arithmetic_operator"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.is_arithmetic_operator--parameters","text":"operator : Operator The operator to check","title":"Parameters:"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.is_arithmetic_operator--returns","text":"bool True if operator is an arithmetic operator","title":"Returns:"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.is_comparison_operator","text":"Check if operator is a comparison operator.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-function\"></code>&nbsp;is_comparison_operator"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.is_comparison_operator--parameters","text":"operator : Operator The operator to check","title":"Parameters:"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.is_comparison_operator--returns","text":"bool True if operator is a comparison operator","title":"Returns:"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.validate_linear_division","text":"Validate that division maintains linearity.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-function\"></code>&nbsp;validate_linear_division"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.validate_linear_division--parameters","text":"right_result : Any The divisor","title":"Parameters:"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.validate_linear_division--raises","text":"ValueError If divisor is a variable (non-linear)","title":"Raises:"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.validate_linear_multiplication","text":"Validate that multiplication maintains linearity.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-function\"></code>&nbsp;validate_linear_multiplication"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.validate_linear_multiplication--parameters","text":"left_result : Any Left operand right_result : Any Right operand","title":"Parameters:"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.validate_linear_multiplication--raises","text":"ValueError If both operands are variables (non-linear)","title":"Raises:"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.warn_about_not_equal_constraint","text":"Warn user about complexity of not-equal constraints.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-function\"></code>&nbsp;warn_about_not_equal_constraint"},{"location":"conversion/converter/","text":"app.conversion.converter Converter Bases: object convert_entity ( entity , time_set = None , new_freq = None ) Convert an entity using registered converters. Falls back to default entity conversion if no specialized converter exists. This implementation searches the entity's class MRO so that registering a converter for a base class (e.g., Device) will also handle subclasses (e.g., SpecDevice) unless a more specific converter is registered. convert_literal ( literal , value , t , time_set = None , new_freq = None ) Convert a literal value (returns the value as-is).","title":"Converter"},{"location":"conversion/converter/#app.conversion.converter","text":"","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;converter"},{"location":"conversion/converter/#app.conversion.converter.Converter","text":"Bases: object","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-class\"></code>&nbsp;Converter"},{"location":"conversion/converter/#app.conversion.converter.Converter.convert_entity","text":"Convert an entity using registered converters. Falls back to default entity conversion if no specialized converter exists. This implementation searches the entity's class MRO so that registering a converter for a base class (e.g., Device) will also handle subclasses (e.g., SpecDevice) unless a more specific converter is registered.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;convert_entity"},{"location":"conversion/converter/#app.conversion.converter.Converter.convert_literal","text":"Convert a literal value (returns the value as-is).","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;convert_literal"},{"location":"conversion/pandapower_converter/","text":"app.conversion.pandapower_converter App conversion module: pandapower_converter Provides a converter that maps a minimal Omnes Model to a pandapower network (pandapowerNet). The converter models a balanced (single-phase equivalent) network and extracts time series profiles for use with pandapower simulations. Notes - Balanced single-phase equivalent is used. Extend for three-phase/unbalanced use. - Batteries and flexible devices are modeled as sgen/load elements whose p_mw are provided externally for each timestep. - Time series values are expected in kW and are converted to MW where needed. PandapowerConverter Bases: Converter Convert an Omnes Model into a pandapower network and associated time series. The converter constructs pandapower network elements (buses, lines, sgens, loads, ext_grids, switches) and collects time series data into the network's 'profiles' attribute. Time series are converted to numpy arrays for use in simulations. Attributes DEFAULT_TIME_SET_SIZE : int Default fallback size for time sets when needed. net : pandapowerNet The pandapower network being constructed. bus_map : dict Mapping from Omnes bus id to pandapower bus index. convert_back ( model ) Map simulation results from a pandapower network back onto model entities. Updates model entities (for example, last_vm_pu or last_loading_percent) with values read from the network results tables. Parameters net The pandapower network containing simulation results. model The Omnes model to update. convert_model ( model , time_set = None , new_freq = None , ** kwargs ) Convert a Model into a pandapower network and collect profiles. Parameters model The Omnes Model to convert. time_set Optional time set specification (int or range). If None the model's defaults are used. new_freq Optional target frequency for resampling time series (e.g., '15min'). Returns pandapowerNet The constructed pandapower network with 'profiles' and 'time_set' attributes populated. convert_quantity ( quantity , name , time_set = None , freq = None ) Convert a Quantity to a numpy array suitable for pandapower profiles. Returns None if the quantity is empty. For Parameter instances, returns the parameter's scalar or array value. For Timeseries-like quantities, returns values resampled to the requested time_set and frequency. Parameters quantity The Quantity to convert. name Human-readable identifier used for logging/debugging. time_set Optional time set specification for resampling. freq Optional frequency for resampling. Returns numpy.ndarray or None Array of values across the time set, or None if empty.","title":"Pandapower converter"},{"location":"conversion/pandapower_converter/#app.conversion.pandapower_converter","text":"App conversion module: pandapower_converter Provides a converter that maps a minimal Omnes Model to a pandapower network (pandapowerNet). The converter models a balanced (single-phase equivalent) network and extracts time series profiles for use with pandapower simulations. Notes - Balanced single-phase equivalent is used. Extend for three-phase/unbalanced use. - Batteries and flexible devices are modeled as sgen/load elements whose p_mw are provided externally for each timestep. - Time series values are expected in kW and are converted to MW where needed.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;pandapower_converter"},{"location":"conversion/pandapower_converter/#app.conversion.pandapower_converter.PandapowerConverter","text":"Bases: Converter Convert an Omnes Model into a pandapower network and associated time series. The converter constructs pandapower network elements (buses, lines, sgens, loads, ext_grids, switches) and collects time series data into the network's 'profiles' attribute. Time series are converted to numpy arrays for use in simulations.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-class\"></code>&nbsp;PandapowerConverter"},{"location":"conversion/pandapower_converter/#app.conversion.pandapower_converter.PandapowerConverter--attributes","text":"DEFAULT_TIME_SET_SIZE : int Default fallback size for time sets when needed. net : pandapowerNet The pandapower network being constructed. bus_map : dict Mapping from Omnes bus id to pandapower bus index.","title":"Attributes"},{"location":"conversion/pandapower_converter/#app.conversion.pandapower_converter.PandapowerConverter.convert_back","text":"Map simulation results from a pandapower network back onto model entities. Updates model entities (for example, last_vm_pu or last_loading_percent) with values read from the network results tables.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;convert_back"},{"location":"conversion/pandapower_converter/#app.conversion.pandapower_converter.PandapowerConverter.convert_back--parameters","text":"net The pandapower network containing simulation results. model The Omnes model to update.","title":"Parameters"},{"location":"conversion/pandapower_converter/#app.conversion.pandapower_converter.PandapowerConverter.convert_model","text":"Convert a Model into a pandapower network and collect profiles.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;convert_model"},{"location":"conversion/pandapower_converter/#app.conversion.pandapower_converter.PandapowerConverter.convert_model--parameters","text":"model The Omnes Model to convert. time_set Optional time set specification (int or range). If None the model's defaults are used. new_freq Optional target frequency for resampling time series (e.g., '15min').","title":"Parameters"},{"location":"conversion/pandapower_converter/#app.conversion.pandapower_converter.PandapowerConverter.convert_model--returns","text":"pandapowerNet The constructed pandapower network with 'profiles' and 'time_set' attributes populated.","title":"Returns"},{"location":"conversion/pandapower_converter/#app.conversion.pandapower_converter.PandapowerConverter.convert_quantity","text":"Convert a Quantity to a numpy array suitable for pandapower profiles. Returns None if the quantity is empty. For Parameter instances, returns the parameter's scalar or array value. For Timeseries-like quantities, returns values resampled to the requested time_set and frequency.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;convert_quantity"},{"location":"conversion/pandapower_converter/#app.conversion.pandapower_converter.PandapowerConverter.convert_quantity--parameters","text":"quantity The Quantity to convert. name Human-readable identifier used for logging/debugging. time_set Optional time set specification for resampling. freq Optional frequency for resampling.","title":"Parameters"},{"location":"conversion/pandapower_converter/#app.conversion.pandapower_converter.PandapowerConverter.convert_quantity--returns","text":"numpy.ndarray or None Array of values across the time set, or None if empty.","title":"Returns"},{"location":"conversion/pulp_converter/","text":"app.conversion.pulp_converter PulpConverter Bases: Converter Converts a Model class object into a PuLP optimization problem. This converter handles the transformation of energy system models into linear programming problems that can be solved using the PuLP optimization library. It converts entities, quantities, and relations into PuLP variables and constraints while maintaining temporal relationships and handling time series data resampling. The converter supports: - Time-indexed variables for dynamic optimization - Linear constraints between variables - Temporal relationships (t-1, t+1 references) - Time series data resampling - Hierarchical entity structures Attributes DEFAULT_TIME_SET_SIZE : int Default number of time steps when none is specified (10) Notes This converter is designed for linear programming problems only. Non-linear operations like variable multiplication or division by variables will raise ValueError. Examples converter = PulpConverter() model_vars = converter.convert_model(energy_model) constraints = model_vars['battery.soc_constraint'] convert_binary_expression ( binary_expr , left_result , right_result , operator , t , time_set = None , new_freq = None ) Convert a binary expression to PuLP constraint or arithmetic operation. Parameters binary_expr : BinaryExpression The binary expression object (unused) left_result : Any Result of the left operand evaluation right_result : Any Result of the right operand evaluation operator : Operator The operator to apply between left and right operands t : int Current time step (unused) time_set : Optional[Union[int, range]], optional Time set (unused) new_freq : Optional[str], optional Frequency (unused) Returns Union[pulp.LpConstraint, pulp.LpExpression] PuLP constraint for comparison operators or expression for arithmetic operators Raises ValueError If the operator is not supported or violates linear programming constraints. convert_entity_reference ( entity_ref , entity_id , t , time_set = None , new_freq = None ) Convert an entity reference to a PuLP variable for the given time step. Parameters entity_ref : EntityReference The entity reference object containing time offset information entity_id : str The entity ID to look up in the variables dictionary t : int Current time step time_set : Optional[Union[int, range]], optional Total time set (unused here but kept for consistency) new_freq : Optional[str], optional Frequency (unused here but kept for consistency) Returns Union[pulp.LpVariable, Any] PuLP variable or expression for the specified time step Raises ValueError If the entity_id is not found in the objects dictionary. convert_model ( model , time_set = None , new_freq = None , ** kwargs ) Convert the model to an optimization/simulation problem. Converts the model's entities and their quantities into a flat dictionary of pulp variables suitable for optimization. It also handles the resampling of time series data to the specified frequency and time set. Parameters model : Model The model to convert. time_set : Optional[Union[int, range]], optional The number of time steps to represent in the pulp variables. If None, uses model.number_of_time_steps. new_freq : Optional[str], optional The target frequency to resample time series data to (e.g., '15min', '1H'). If None, uses model.frequency. Returns Dict[str, Any] Dictionary containing all pulp variables and time set information. Includes a 'time_set' key with the range of time steps. convert_quantity ( quantity , name , time_set = None , freq = None ) Convert the time series data to a format suitable for pulp optimization. If the quantity is empty, create an empty pulp variable. If the quantity is a Parameter, return its value directly. Otherwise, return the values resampled to the specified time set and frequency. Parameters quantity : Quantity The quantity to convert name : str The name for the generated variables time_set : Optional[Union[int, range]], optional The time set specification. If None, uses default size. freq : Optional[str], optional The frequency for resampling Returns Union[List[pulp.LpVariable], Any] Either a list of PuLP variables (for empty quantities) or the quantity values convert_relation ( relation , entity_variables , time_set = None , new_freq = None ) Convert a Relation to PuLP constraints for each time step. This method dynamically assembles relations based on identified entity references and operations. For example: \"battery1.discharge_power(t)<2*battery1.discharge_power(t-1)\" becomes: for t in time_set: constraint = battery1.discharge_power[t] < 2 * battery1.discharge_power[t-1] Parameters relation : Relation The relation to convert entity_variables : Dict[str, Any] Dictionary mapping entity IDs to their PuLP variables time_set : Optional[Union[int, range]], optional The time set to iterate over. If None, uses default size. new_freq : Optional[str], optional Frequency (kept for consistency with interface) Returns Dict[str, List] Dictionary containing the constraint name as key and list of constraints as value. Raises ValueError If any entity referenced in the relation is not found in entity_variables.","title":"Pulp converter"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter","text":"","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;pulp_converter"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter","text":"Bases: Converter Converts a Model class object into a PuLP optimization problem. This converter handles the transformation of energy system models into linear programming problems that can be solved using the PuLP optimization library. It converts entities, quantities, and relations into PuLP variables and constraints while maintaining temporal relationships and handling time series data resampling. The converter supports: - Time-indexed variables for dynamic optimization - Linear constraints between variables - Temporal relationships (t-1, t+1 references) - Time series data resampling - Hierarchical entity structures","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-class\"></code>&nbsp;PulpConverter"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter--attributes","text":"DEFAULT_TIME_SET_SIZE : int Default number of time steps when none is specified (10)","title":"Attributes"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter--notes","text":"This converter is designed for linear programming problems only. Non-linear operations like variable multiplication or division by variables will raise ValueError.","title":"Notes"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter--examples","text":"converter = PulpConverter() model_vars = converter.convert_model(energy_model) constraints = model_vars['battery.soc_constraint']","title":"Examples"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_binary_expression","text":"Convert a binary expression to PuLP constraint or arithmetic operation.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;convert_binary_expression"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_binary_expression--parameters","text":"binary_expr : BinaryExpression The binary expression object (unused) left_result : Any Result of the left operand evaluation right_result : Any Result of the right operand evaluation operator : Operator The operator to apply between left and right operands t : int Current time step (unused) time_set : Optional[Union[int, range]], optional Time set (unused) new_freq : Optional[str], optional Frequency (unused)","title":"Parameters"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_binary_expression--returns","text":"Union[pulp.LpConstraint, pulp.LpExpression] PuLP constraint for comparison operators or expression for arithmetic operators","title":"Returns"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_binary_expression--raises","text":"ValueError If the operator is not supported or violates linear programming constraints.","title":"Raises"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_entity_reference","text":"Convert an entity reference to a PuLP variable for the given time step.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;convert_entity_reference"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_entity_reference--parameters","text":"entity_ref : EntityReference The entity reference object containing time offset information entity_id : str The entity ID to look up in the variables dictionary t : int Current time step time_set : Optional[Union[int, range]], optional Total time set (unused here but kept for consistency) new_freq : Optional[str], optional Frequency (unused here but kept for consistency)","title":"Parameters"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_entity_reference--returns","text":"Union[pulp.LpVariable, Any] PuLP variable or expression for the specified time step","title":"Returns"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_entity_reference--raises","text":"ValueError If the entity_id is not found in the objects dictionary.","title":"Raises"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_model","text":"Convert the model to an optimization/simulation problem. Converts the model's entities and their quantities into a flat dictionary of pulp variables suitable for optimization. It also handles the resampling of time series data to the specified frequency and time set.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;convert_model"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_model--parameters","text":"model : Model The model to convert. time_set : Optional[Union[int, range]], optional The number of time steps to represent in the pulp variables. If None, uses model.number_of_time_steps. new_freq : Optional[str], optional The target frequency to resample time series data to (e.g., '15min', '1H'). If None, uses model.frequency.","title":"Parameters"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_model--returns","text":"Dict[str, Any] Dictionary containing all pulp variables and time set information. Includes a 'time_set' key with the range of time steps.","title":"Returns"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_quantity","text":"Convert the time series data to a format suitable for pulp optimization. If the quantity is empty, create an empty pulp variable. If the quantity is a Parameter, return its value directly. Otherwise, return the values resampled to the specified time set and frequency.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;convert_quantity"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_quantity--parameters","text":"quantity : Quantity The quantity to convert name : str The name for the generated variables time_set : Optional[Union[int, range]], optional The time set specification. If None, uses default size. freq : Optional[str], optional The frequency for resampling","title":"Parameters"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_quantity--returns","text":"Union[List[pulp.LpVariable], Any] Either a list of PuLP variables (for empty quantities) or the quantity values","title":"Returns"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_relation","text":"Convert a Relation to PuLP constraints for each time step. This method dynamically assembles relations based on identified entity references and operations. For example: \"battery1.discharge_power(t)<2*battery1.discharge_power(t-1)\" becomes: for t in time_set: constraint = battery1.discharge_power[t] < 2 * battery1.discharge_power[t-1]","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;convert_relation"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_relation--parameters","text":"relation : Relation The relation to convert entity_variables : Dict[str, Any] Dictionary mapping entity IDs to their PuLP variables time_set : Optional[Union[int, range]], optional The time set to iterate over. If None, uses default size. new_freq : Optional[str], optional Frequency (kept for consistency with interface)","title":"Parameters"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_relation--returns","text":"Dict[str, List] Dictionary containing the constraint name as key and list of constraints as value.","title":"Returns"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_relation--raises","text":"ValueError If any entity referenced in the relation is not found in entity_variables.","title":"Raises"},{"location":"conversion/validation_utils/","text":"app.conversion.validation_utils Validation utilities for conversion operations. This module contains validation functions that are commonly used across different conversion classes to ensure data integrity and proper error handling. handle_time_bounds ( actual_time , pulp_var , variable_name = 'variable' ) Handle time bounds checking for time-indexed variables with proper warnings. Parameters: actual_time : int The requested time index pulp_var : Any The PuLP variable (usually a list or dict-like object) variable_name : str Name of the variable for warning messages Returns: int The adjusted time index within valid bounds validate_and_normalize_time_set ( time_set , default_size = 10 ) Validate and normalize time_set parameter to a range object. Parameters time_set : Optional[Union[int, range]] The time set to validate and normalize. Can be: - None: uses default_size - int: converted to range(time_set) - range: returned as-is default_size : int, default=10 Default size to use if time_set is None Returns range Normalized time set as a range object Raises ValueError If time_set is not a valid type or if int time_set is negative Examples validate_and_normalize_time_set(5) range(0, 5) validate_and_normalize_time_set(None, 3) range(0, 3) validate_entity_exists ( entity_id , entity_dict ) Validate that an entity exists in the provided dictionary. Parameters entity_id : str The entity ID to validate entity_dict : dict Dictionary containing entity mappings Raises ValueError If entity_id is not found in entity_dict Examples entities = {'battery': [1, 2, 3], 'solar': [4, 5, 6]} validate_entity_exists('battery', entities) # No error validate_entity_exists('wind', entities) # Raises ValueError validate_linear_programming_constraint ( left_operand , right_operand , operation ) Validate that an operation maintains linear programming constraints. Parameters: left_operand : Any Left side of the operation right_operand : Any Right side of the operation operation : str Type of operation (\"multiplication\" or \"division\") Raises: ValueError If the operation violates linear programming constraints","title":"Validation utils"},{"location":"conversion/validation_utils/#app.conversion.validation_utils","text":"Validation utilities for conversion operations. This module contains validation functions that are commonly used across different conversion classes to ensure data integrity and proper error handling.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;validation_utils"},{"location":"conversion/validation_utils/#app.conversion.validation_utils.handle_time_bounds","text":"Handle time bounds checking for time-indexed variables with proper warnings.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-function\"></code>&nbsp;handle_time_bounds"},{"location":"conversion/validation_utils/#app.conversion.validation_utils.handle_time_bounds--parameters","text":"actual_time : int The requested time index pulp_var : Any The PuLP variable (usually a list or dict-like object) variable_name : str Name of the variable for warning messages","title":"Parameters:"},{"location":"conversion/validation_utils/#app.conversion.validation_utils.handle_time_bounds--returns","text":"int The adjusted time index within valid bounds","title":"Returns:"},{"location":"conversion/validation_utils/#app.conversion.validation_utils.validate_and_normalize_time_set","text":"Validate and normalize time_set parameter to a range object.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-function\"></code>&nbsp;validate_and_normalize_time_set"},{"location":"conversion/validation_utils/#app.conversion.validation_utils.validate_and_normalize_time_set--parameters","text":"time_set : Optional[Union[int, range]] The time set to validate and normalize. Can be: - None: uses default_size - int: converted to range(time_set) - range: returned as-is default_size : int, default=10 Default size to use if time_set is None","title":"Parameters"},{"location":"conversion/validation_utils/#app.conversion.validation_utils.validate_and_normalize_time_set--returns","text":"range Normalized time set as a range object","title":"Returns"},{"location":"conversion/validation_utils/#app.conversion.validation_utils.validate_and_normalize_time_set--raises","text":"ValueError If time_set is not a valid type or if int time_set is negative","title":"Raises"},{"location":"conversion/validation_utils/#app.conversion.validation_utils.validate_and_normalize_time_set--examples","text":"validate_and_normalize_time_set(5) range(0, 5) validate_and_normalize_time_set(None, 3) range(0, 3)","title":"Examples"},{"location":"conversion/validation_utils/#app.conversion.validation_utils.validate_entity_exists","text":"Validate that an entity exists in the provided dictionary.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-function\"></code>&nbsp;validate_entity_exists"},{"location":"conversion/validation_utils/#app.conversion.validation_utils.validate_entity_exists--parameters","text":"entity_id : str The entity ID to validate entity_dict : dict Dictionary containing entity mappings","title":"Parameters"},{"location":"conversion/validation_utils/#app.conversion.validation_utils.validate_entity_exists--raises","text":"ValueError If entity_id is not found in entity_dict","title":"Raises"},{"location":"conversion/validation_utils/#app.conversion.validation_utils.validate_entity_exists--examples","text":"entities = {'battery': [1, 2, 3], 'solar': [4, 5, 6]} validate_entity_exists('battery', entities) # No error validate_entity_exists('wind', entities) # Raises ValueError","title":"Examples"},{"location":"conversion/validation_utils/#app.conversion.validation_utils.validate_linear_programming_constraint","text":"Validate that an operation maintains linear programming constraints.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-function\"></code>&nbsp;validate_linear_programming_constraint"},{"location":"conversion/validation_utils/#app.conversion.validation_utils.validate_linear_programming_constraint--parameters","text":"left_operand : Any Left side of the operation right_operand : Any Right side of the operation operation : str Type of operation (\"multiplication\" or \"division\")","title":"Parameters:"},{"location":"conversion/validation_utils/#app.conversion.validation_utils.validate_linear_programming_constraint--raises","text":"ValueError If the operation violates linear programming constraints","title":"Raises:"},{"location":"infra/configuration/","text":"app.infra.configuration","title":"Configuration"},{"location":"infra/configuration/#app.infra.configuration","text":"","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;configuration"},{"location":"infra/logging_setup/","text":"app.infra.logging_setup Minimal stdlib-only logging setup with console and JSON file output. ConsoleFormatter Bases: Formatter Single-line console formatter: YYYY-MM-DD HH:MM:SS | LEVEL | logger.name | message JSONFormatter Bases: Formatter JSON formatter with fields: ts, level, logger, message, pathname, lineno, funcName, process, threadName get_logger ( name = __name__ ) Get a logger instance init_logging ( level = 'INFO' , log_dir = 'logs' , log_file = 'app.log' , rotate_max_bytes = 10 * 1024 * 1024 , rotate_backups = 5 , ecs_compatible = False ) Initialize logging with console and rotating file handlers (idempotent). Parameters: level ( str , default: 'INFO' ) \u2013 Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL) log_dir ( str , default: 'logs' ) \u2013 Directory for log files log_file ( str , default: 'app.log' ) \u2013 Log file name rotate_max_bytes ( int , default: 10 * 1024 * 1024 ) \u2013 Max bytes per log file before rotation rotate_backups ( int , default: 5 ) \u2013 Number of backup files to keep ecs_compatible ( bool , default: False ) \u2013 If True, use ECS-compatible JSON field names","title":"Logging setup"},{"location":"infra/logging_setup/#app.infra.logging_setup","text":"Minimal stdlib-only logging setup with console and JSON file output.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;logging_setup"},{"location":"infra/logging_setup/#app.infra.logging_setup.ConsoleFormatter","text":"Bases: Formatter Single-line console formatter: YYYY-MM-DD HH:MM:SS | LEVEL | logger.name | message","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-class\"></code>&nbsp;ConsoleFormatter"},{"location":"infra/logging_setup/#app.infra.logging_setup.JSONFormatter","text":"Bases: Formatter JSON formatter with fields: ts, level, logger, message, pathname, lineno, funcName, process, threadName","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-class\"></code>&nbsp;JSONFormatter"},{"location":"infra/logging_setup/#app.infra.logging_setup.get_logger","text":"Get a logger instance","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-function\"></code>&nbsp;get_logger"},{"location":"infra/logging_setup/#app.infra.logging_setup.init_logging","text":"Initialize logging with console and rotating file handlers (idempotent). Parameters: level ( str , default: 'INFO' ) \u2013 Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL) log_dir ( str , default: 'logs' ) \u2013 Directory for log files log_file ( str , default: 'app.log' ) \u2013 Log file name rotate_max_bytes ( int , default: 10 * 1024 * 1024 ) \u2013 Max bytes per log file before rotation rotate_backups ( int , default: 5 ) \u2013 Number of backup files to keep ecs_compatible ( bool , default: False ) \u2013 If True, use ECS-compatible JSON field names","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-function\"></code>&nbsp;init_logging"},{"location":"infra/quantity/","text":"app.infra.quantity Parameter Bases: Quantity Represents a scalar, static quantity used as a parameter in the model. This subclass of Quantity stores a single numerical value and provides methods for exporting it into a format usable by optimization solvers. Attributes: - ( value (float or int ) \u2013 The scalar value of the parameter. set ( value , ** kwargs ) Set the parameter's value after checking type compatibility. If current _value is None: accept value and store it. Otherwise attempt to convert value to the type of _value . On failure raise TypeError . Quantity Bases: ABC Abstract base class for representing any abstract quantity (e.g. power flow, financial amount) within an entity. Quantities may represent static scalar parameters (Parameter) or dynamic time series (TimeSeriesObject). This class defines the interface for how quantities are integrated into the optimization model. convert ( converter , ** kwargs ) Converts the quantity into a pulp-compatible format (e.g., a time series array or a value-variable). set ( value , ** kwargs ) Sets the value of the quantity, if applicable.","title":"Quantity"},{"location":"infra/quantity/#app.infra.quantity","text":"","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;quantity"},{"location":"infra/quantity/#app.infra.quantity.Parameter","text":"Bases: Quantity Represents a scalar, static quantity used as a parameter in the model. This subclass of Quantity stores a single numerical value and provides methods for exporting it into a format usable by optimization solvers. Attributes: - ( value (float or int ) \u2013 The scalar value of the parameter.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-class\"></code>&nbsp;Parameter"},{"location":"infra/quantity/#app.infra.quantity.Parameter.set","text":"Set the parameter's value after checking type compatibility. If current _value is None: accept value and store it. Otherwise attempt to convert value to the type of _value . On failure raise TypeError .","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;set"},{"location":"infra/quantity/#app.infra.quantity.Quantity","text":"Bases: ABC Abstract base class for representing any abstract quantity (e.g. power flow, financial amount) within an entity. Quantities may represent static scalar parameters (Parameter) or dynamic time series (TimeSeriesObject). This class defines the interface for how quantities are integrated into the optimization model.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-class\"></code>&nbsp;Quantity"},{"location":"infra/quantity/#app.infra.quantity.Quantity.convert","text":"Converts the quantity into a pulp-compatible format (e.g., a time series array or a value-variable).","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;convert"},{"location":"infra/quantity/#app.infra.quantity.Quantity.set","text":"Sets the value of the quantity, if applicable.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;set"},{"location":"infra/relation/","text":"app.infra.relation Relation and expression system for energy community modeling. This module provides the core expression system for representing and converting mathematical relations in energy system optimization models. It supports arithmetic operations, comparisons, entity references with time offsets, and specialized expression types for conditional and temporal constraints. AssignmentExpression Bases: Expression convert ( converter , t , time_set = None , new_freq = None ) Convert assignment expression using the provided converter BinaryExpression Bases: Expression convert ( converter , t , time_set = None , new_freq = None ) Convert binary expression using the provided converter parse_binary ( expr ) classmethod Parse constraint expressions like 'battery1.discharge_power(t) < 2 * battery1.discharge_power(t-1)' EntityReference Bases: Expression Expression representing a reference to an entity with optional time offset. Entity references are used to access variables or properties of energy system components at specific time steps. Examples include 'battery1.discharge_power(t)' or 'pv1.generation(t-1)'. __init__ ( entity_id , time_offset = 0 ) Initialize entity reference. Parameters entity_id : str Identifier for the entity (e.g., 'battery1.discharge_power') time_offset : int, default=0 Time offset relative to current time step: - 0 for current time (t) - -1 for previous time step (t-1) - +1 for next time step (t+1) __str__ () Return string representation with time offset notation. convert ( converter , t , time_set = None , new_freq = None ) Convert entity reference using the provided converter. Parameters converter : Any Converter object that handles format-specific conversion t : int Current time step time_set : int, optional Time set for constraint generation new_freq : str, optional Frequency specification for time conversion Returns Any Converted entity reference representation get_ids () Return list containing this entity's ID. Returns List[str] List with single entity ID Expression Bases: ABC Abstract base class for all mathematical expressions. This class defines the interface that all expression types must implement for parsing, conversion, and entity ID extraction. Expression objects form a tree structure representing mathematical operations. __str__ () abstractmethod Return string representation of the expression. Returns str Human-readable string representation convert ( converter , t , time_set = None , new_freq = None ) abstractmethod Convert expression using the provided converter. This method implements the visitor pattern, delegating conversion logic to the converter object which knows how to handle specific target formats (PuLP, pandapower, etc.). Parameters converter : Any Converter object that handles format-specific conversion t : int Current time step time_set : int, optional Time set for constraint generation new_freq : str, optional Frequency specification for time conversion Returns Any Converted representation (format depends on converter) get_ids () abstractmethod Extract all entity IDs referenced in this expression. Returns List[str] List of unique entity IDs used in the expression IfThenExpression Bases: Expression convert ( converter , t , time_set = None , new_freq = None ) Convert if-then expression using the provided converter Literal Bases: Expression Expression representing a literal numeric value. Literals are terminal nodes in expression trees that contain constant numeric values (integers or floats). __init__ ( value ) Initialize literal with numeric value. Parameters value : Union[int, float] The numeric value this literal represents __str__ () Return string representation of the literal value. convert ( converter , t , time_set = None , new_freq = None ) Convert literal using the provided converter. Parameters converter : Any Converter object that handles format-specific conversion t : int Current time step (unused for literals) time_set : int, optional Time set for constraint generation (unused for literals) new_freq : str, optional Frequency specification (unused for literals) Returns Any Converted literal representation get_ids () Return empty list as literals contain no entity references. Returns List[str] Empty list (literals have no entity IDs) Operator Bases: Enum Enumeration of supported mathematical and comparison operators. This enum defines all operators that can be used in mathematical expressions within the energy system modeling framework. Each operator contains both its string representation and category information for proper handling. category property Return the category of the operator (comparison or arithmetic). symbol property Return the string representation of the operator. __str__ () Return string representation of the operator. arithmetic_operators () classmethod Return all arithmetic operators. arithmetic_strings () classmethod Return string representations of arithmetic operators. comparison_operators () classmethod Return all comparison operators. comparison_strings () classmethod Return string representations of comparison operators. from_symbol ( symbol ) classmethod Create an operator from its string symbol. Relation convert ( converter , objects , time_set = None , new_freq = None ) Convert this relation using the provided converter for each time step. This implements dependency inversion - the relation delegates to the converter, which contains all format-specific logic (PuLP, pandapower, etc.). Parameters: converter : object The converter that knows how to handle conversion (e.g., PulpConverter) objects : dict Dictionary mapping entity IDs to their variables/objects time_set : int The time set to iterate over new_freq : str Frequency (optional) Returns: dict Dictionary containing the constraint name and the list of constraints parse ( expr ) Parse the expression string into an Expression tree TimeConditionExpression Bases: Expression convert ( converter , t , time_set = None , new_freq = None ) Convert time condition expression using the provided converter","title":"Relation"},{"location":"infra/relation/#app.infra.relation","text":"Relation and expression system for energy community modeling. This module provides the core expression system for representing and converting mathematical relations in energy system optimization models. It supports arithmetic operations, comparisons, entity references with time offsets, and specialized expression types for conditional and temporal constraints.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;relation"},{"location":"infra/relation/#app.infra.relation.AssignmentExpression","text":"Bases: Expression","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-class\"></code>&nbsp;AssignmentExpression"},{"location":"infra/relation/#app.infra.relation.AssignmentExpression.convert","text":"Convert assignment expression using the provided converter","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;convert"},{"location":"infra/relation/#app.infra.relation.BinaryExpression","text":"Bases: Expression","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-class\"></code>&nbsp;BinaryExpression"},{"location":"infra/relation/#app.infra.relation.BinaryExpression.convert","text":"Convert binary expression using the provided converter","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;convert"},{"location":"infra/relation/#app.infra.relation.BinaryExpression.parse_binary","text":"Parse constraint expressions like 'battery1.discharge_power(t) < 2 * battery1.discharge_power(t-1)'","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;parse_binary"},{"location":"infra/relation/#app.infra.relation.EntityReference","text":"Bases: Expression Expression representing a reference to an entity with optional time offset. Entity references are used to access variables or properties of energy system components at specific time steps. Examples include 'battery1.discharge_power(t)' or 'pv1.generation(t-1)'.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-class\"></code>&nbsp;EntityReference"},{"location":"infra/relation/#app.infra.relation.EntityReference.__init__","text":"Initialize entity reference.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;__init__"},{"location":"infra/relation/#app.infra.relation.EntityReference.__init__--parameters","text":"entity_id : str Identifier for the entity (e.g., 'battery1.discharge_power') time_offset : int, default=0 Time offset relative to current time step: - 0 for current time (t) - -1 for previous time step (t-1) - +1 for next time step (t+1)","title":"Parameters"},{"location":"infra/relation/#app.infra.relation.EntityReference.__str__","text":"Return string representation with time offset notation.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;__str__"},{"location":"infra/relation/#app.infra.relation.EntityReference.convert","text":"Convert entity reference using the provided converter.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;convert"},{"location":"infra/relation/#app.infra.relation.EntityReference.convert--parameters","text":"converter : Any Converter object that handles format-specific conversion t : int Current time step time_set : int, optional Time set for constraint generation new_freq : str, optional Frequency specification for time conversion","title":"Parameters"},{"location":"infra/relation/#app.infra.relation.EntityReference.convert--returns","text":"Any Converted entity reference representation","title":"Returns"},{"location":"infra/relation/#app.infra.relation.EntityReference.get_ids","text":"Return list containing this entity's ID.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;get_ids"},{"location":"infra/relation/#app.infra.relation.EntityReference.get_ids--returns","text":"List[str] List with single entity ID","title":"Returns"},{"location":"infra/relation/#app.infra.relation.Expression","text":"Bases: ABC Abstract base class for all mathematical expressions. This class defines the interface that all expression types must implement for parsing, conversion, and entity ID extraction. Expression objects form a tree structure representing mathematical operations.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-class\"></code>&nbsp;Expression"},{"location":"infra/relation/#app.infra.relation.Expression.__str__","text":"Return string representation of the expression.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;__str__"},{"location":"infra/relation/#app.infra.relation.Expression.__str__--returns","text":"str Human-readable string representation","title":"Returns"},{"location":"infra/relation/#app.infra.relation.Expression.convert","text":"Convert expression using the provided converter. This method implements the visitor pattern, delegating conversion logic to the converter object which knows how to handle specific target formats (PuLP, pandapower, etc.).","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;convert"},{"location":"infra/relation/#app.infra.relation.Expression.convert--parameters","text":"converter : Any Converter object that handles format-specific conversion t : int Current time step time_set : int, optional Time set for constraint generation new_freq : str, optional Frequency specification for time conversion","title":"Parameters"},{"location":"infra/relation/#app.infra.relation.Expression.convert--returns","text":"Any Converted representation (format depends on converter)","title":"Returns"},{"location":"infra/relation/#app.infra.relation.Expression.get_ids","text":"Extract all entity IDs referenced in this expression.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;get_ids"},{"location":"infra/relation/#app.infra.relation.Expression.get_ids--returns","text":"List[str] List of unique entity IDs used in the expression","title":"Returns"},{"location":"infra/relation/#app.infra.relation.IfThenExpression","text":"Bases: Expression","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-class\"></code>&nbsp;IfThenExpression"},{"location":"infra/relation/#app.infra.relation.IfThenExpression.convert","text":"Convert if-then expression using the provided converter","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;convert"},{"location":"infra/relation/#app.infra.relation.Literal","text":"Bases: Expression Expression representing a literal numeric value. Literals are terminal nodes in expression trees that contain constant numeric values (integers or floats).","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-class\"></code>&nbsp;Literal"},{"location":"infra/relation/#app.infra.relation.Literal.__init__","text":"Initialize literal with numeric value.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;__init__"},{"location":"infra/relation/#app.infra.relation.Literal.__init__--parameters","text":"value : Union[int, float] The numeric value this literal represents","title":"Parameters"},{"location":"infra/relation/#app.infra.relation.Literal.__str__","text":"Return string representation of the literal value.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;__str__"},{"location":"infra/relation/#app.infra.relation.Literal.convert","text":"Convert literal using the provided converter.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;convert"},{"location":"infra/relation/#app.infra.relation.Literal.convert--parameters","text":"converter : Any Converter object that handles format-specific conversion t : int Current time step (unused for literals) time_set : int, optional Time set for constraint generation (unused for literals) new_freq : str, optional Frequency specification (unused for literals)","title":"Parameters"},{"location":"infra/relation/#app.infra.relation.Literal.convert--returns","text":"Any Converted literal representation","title":"Returns"},{"location":"infra/relation/#app.infra.relation.Literal.get_ids","text":"Return empty list as literals contain no entity references.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;get_ids"},{"location":"infra/relation/#app.infra.relation.Literal.get_ids--returns","text":"List[str] Empty list (literals have no entity IDs)","title":"Returns"},{"location":"infra/relation/#app.infra.relation.Operator","text":"Bases: Enum Enumeration of supported mathematical and comparison operators. This enum defines all operators that can be used in mathematical expressions within the energy system modeling framework. Each operator contains both its string representation and category information for proper handling.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-class\"></code>&nbsp;Operator"},{"location":"infra/relation/#app.infra.relation.Operator.category","text":"Return the category of the operator (comparison or arithmetic).","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-attribute\"></code>&nbsp;category"},{"location":"infra/relation/#app.infra.relation.Operator.symbol","text":"Return the string representation of the operator.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-attribute\"></code>&nbsp;symbol"},{"location":"infra/relation/#app.infra.relation.Operator.__str__","text":"Return string representation of the operator.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;__str__"},{"location":"infra/relation/#app.infra.relation.Operator.arithmetic_operators","text":"Return all arithmetic operators.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;arithmetic_operators"},{"location":"infra/relation/#app.infra.relation.Operator.arithmetic_strings","text":"Return string representations of arithmetic operators.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;arithmetic_strings"},{"location":"infra/relation/#app.infra.relation.Operator.comparison_operators","text":"Return all comparison operators.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;comparison_operators"},{"location":"infra/relation/#app.infra.relation.Operator.comparison_strings","text":"Return string representations of comparison operators.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;comparison_strings"},{"location":"infra/relation/#app.infra.relation.Operator.from_symbol","text":"Create an operator from its string symbol.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;from_symbol"},{"location":"infra/relation/#app.infra.relation.Relation","text":"","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-class\"></code>&nbsp;Relation"},{"location":"infra/relation/#app.infra.relation.Relation.convert","text":"Convert this relation using the provided converter for each time step. This implements dependency inversion - the relation delegates to the converter, which contains all format-specific logic (PuLP, pandapower, etc.).","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;convert"},{"location":"infra/relation/#app.infra.relation.Relation.convert--parameters","text":"converter : object The converter that knows how to handle conversion (e.g., PulpConverter) objects : dict Dictionary mapping entity IDs to their variables/objects time_set : int The time set to iterate over new_freq : str Frequency (optional)","title":"Parameters:"},{"location":"infra/relation/#app.infra.relation.Relation.convert--returns","text":"dict Dictionary containing the constraint name and the list of constraints","title":"Returns:"},{"location":"infra/relation/#app.infra.relation.Relation.parse","text":"Parse the expression string into an Expression tree","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;parse"},{"location":"infra/relation/#app.infra.relation.TimeConditionExpression","text":"Bases: Expression","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-class\"></code>&nbsp;TimeConditionExpression"},{"location":"infra/relation/#app.infra.relation.TimeConditionExpression.convert","text":"Convert time condition expression using the provided converter","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;convert"},{"location":"infra/singleton/","text":"app.infra.singleton","title":"Singleton"},{"location":"infra/singleton/#app.infra.singleton","text":"","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;singleton"},{"location":"infra/timeseries_object/","text":"app.infra.timeseries_object TimeseriesObject Bases: Quantity A class representing a time series object using xarray.DataArray as the backend. This class handles multi-dimensional time series data, including reading from CSV files, resampling, and normalizing frequencies. Maintains full backward compatibility with pandas DataFrame-based code while enabling multi-dimensional energy system modeling. :ivar xr.DataArray data: Underlying time series data :ivar str freq: Frequency string (e.g. '1h') __eq__ ( other ) Check equality with another TimeseriesObject. :param TimeseriesObject other: Object to compare :returns bool: True if equal, else False __getattr__ ( name ) Delegate attribute access to the underlying DataArray when safe. Avoid recursion when self.data is another TimeseriesObject or is None, and do not delegate for core attributes. __init__ ( ** kwargs ) Initialize from xarray, pandas, or CSV file. :param xr.DataArray|pd.DataFrame data: DataArray or DataFrame (optional) :param str input_path: Path to CSV (optional) :param str col: Column name (optional) :param str freq: Frequency string (optional) __repr__ () String representation. :returns str: String representation add_dimension ( dim_name , coord_values , axis = None ) Add a new dimension. :param str dim_name: Name of new dimension :param list coord_values: Coordinate values :param int|None axis: Axis to add (optional) :returns TimeseriesObject: New TimeseriesObject empty () Check if data is empty. :returns bool: True if empty, else False get_metadata ( key = None ) Get metadata attributes. :param str|None key: Metadata key (optional) :returns dict|Any: All attributes or value for key isel ( ** kwargs ) Select data by integer indices. :param kwargs: Dimension names and indices :returns TimeseriesObject: New TimeseriesObject with selected data normalize_freq ( freq ) classmethod Normalize frequency string. :param str freq: Frequency string :returns str|None: Normalized frequency string (e.g. '1h') or None read ( input_path , col , time_col = 'timestamp' , datetime_format = None , ** read_kwargs ) staticmethod Read CSV and return TimeseriesObject. :param str input_path: Path to CSV :param str col: Name of the column to read :param str|None time_col: Name of the time column in the CSV (default 'timestamp'). If None, auto-detect. :param str|None datetime_format: Optional datetime format to use for parsing :returns TimeseriesObject: TimeseriesObject with column and timestamp index resample_to ( new_freq , method = None , agg = 'mean' , in_place = False , ** resample_kwargs ) Resample to new frequency. :param str new_freq: New frequency (e.g. '15min') :param str|None method: Resampling method (optional) :param str agg: Aggregation function (default 'sum'), others like 'mean', 'max', etc., only for downsampling :param bool in_place: Modify in place (default False) :returns TimeseriesObject: Resampled TimeseriesObject :raises ValueError: If frequency cannot be inferred or method unsupported sel ( ** kwargs ) Select data along dimensions. :param kwargs: Dimension names and values :returns TimeseriesObject: New TimeseriesObject with selected data set_metadata ( ** attrs ) Set metadata attributes. :param attrs: Metadata attributes :returns TimeseriesObject: New TimeseriesObject with updated metadata to_15m ( closed = 'right' ) Convert to 15-minute frequency. :param str closed: Which side of bin interval is closed (default 'right') :returns TimeseriesObject: Resampled TimeseriesObject :raises ValueError: If frequency is not set to_1h ( closed = 'left' ) Convert to 1-hour frequency. :param str closed: Which side of bin interval is closed (default 'left') :returns TimeseriesObject: Resampled TimeseriesObject :raises ValueError: If frequency is not set to_df () Convert to pandas DataFrame. :returns pd.DataFrame: DataFrame representation to_nd () Convert to numpy array. :returns np.ndarray: Flattened numpy array value ( ** kwargs ) Get values with optional resampling and slicing. :param str freq: Frequency to resample to (optional) :param int time_set: Number of time steps (optional) :returns np.ndarray: Array of values","title":"Timeseries object"},{"location":"infra/timeseries_object/#app.infra.timeseries_object","text":"","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;timeseries_object"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject","text":"Bases: Quantity A class representing a time series object using xarray.DataArray as the backend. This class handles multi-dimensional time series data, including reading from CSV files, resampling, and normalizing frequencies. Maintains full backward compatibility with pandas DataFrame-based code while enabling multi-dimensional energy system modeling. :ivar xr.DataArray data: Underlying time series data :ivar str freq: Frequency string (e.g. '1h')","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-class\"></code>&nbsp;TimeseriesObject"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.__eq__","text":"Check equality with another TimeseriesObject. :param TimeseriesObject other: Object to compare :returns bool: True if equal, else False","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;__eq__"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.__getattr__","text":"Delegate attribute access to the underlying DataArray when safe. Avoid recursion when self.data is another TimeseriesObject or is None, and do not delegate for core attributes.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;__getattr__"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.__init__","text":"Initialize from xarray, pandas, or CSV file. :param xr.DataArray|pd.DataFrame data: DataArray or DataFrame (optional) :param str input_path: Path to CSV (optional) :param str col: Column name (optional) :param str freq: Frequency string (optional)","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;__init__"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.__repr__","text":"String representation. :returns str: String representation","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;__repr__"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.add_dimension","text":"Add a new dimension. :param str dim_name: Name of new dimension :param list coord_values: Coordinate values :param int|None axis: Axis to add (optional) :returns TimeseriesObject: New TimeseriesObject","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;add_dimension"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.empty","text":"Check if data is empty. :returns bool: True if empty, else False","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;empty"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.get_metadata","text":"Get metadata attributes. :param str|None key: Metadata key (optional) :returns dict|Any: All attributes or value for key","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;get_metadata"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.isel","text":"Select data by integer indices. :param kwargs: Dimension names and indices :returns TimeseriesObject: New TimeseriesObject with selected data","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;isel"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.normalize_freq","text":"Normalize frequency string. :param str freq: Frequency string :returns str|None: Normalized frequency string (e.g. '1h') or None","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;normalize_freq"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.read","text":"Read CSV and return TimeseriesObject. :param str input_path: Path to CSV :param str col: Name of the column to read :param str|None time_col: Name of the time column in the CSV (default 'timestamp'). If None, auto-detect. :param str|None datetime_format: Optional datetime format to use for parsing :returns TimeseriesObject: TimeseriesObject with column and timestamp index","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;read"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.resample_to","text":"Resample to new frequency. :param str new_freq: New frequency (e.g. '15min') :param str|None method: Resampling method (optional) :param str agg: Aggregation function (default 'sum'), others like 'mean', 'max', etc., only for downsampling :param bool in_place: Modify in place (default False) :returns TimeseriesObject: Resampled TimeseriesObject :raises ValueError: If frequency cannot be inferred or method unsupported","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;resample_to"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.sel","text":"Select data along dimensions. :param kwargs: Dimension names and values :returns TimeseriesObject: New TimeseriesObject with selected data","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;sel"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.set_metadata","text":"Set metadata attributes. :param attrs: Metadata attributes :returns TimeseriesObject: New TimeseriesObject with updated metadata","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;set_metadata"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.to_15m","text":"Convert to 15-minute frequency. :param str closed: Which side of bin interval is closed (default 'right') :returns TimeseriesObject: Resampled TimeseriesObject :raises ValueError: If frequency is not set","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;to_15m"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.to_1h","text":"Convert to 1-hour frequency. :param str closed: Which side of bin interval is closed (default 'left') :returns TimeseriesObject: Resampled TimeseriesObject :raises ValueError: If frequency is not set","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;to_1h"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.to_df","text":"Convert to pandas DataFrame. :returns pd.DataFrame: DataFrame representation","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;to_df"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.to_nd","text":"Convert to numpy array. :returns np.ndarray: Flattened numpy array","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;to_nd"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.value","text":"Get values with optional resampling and slicing. :param str freq: Frequency to resample to (optional) :param int time_set: Number of time steps (optional) :returns np.ndarray: Array of values","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;value"},{"location":"infra/timeseries_object_factory/","text":"app.infra.timeseries_object_factory","title":"Timeseries object factory"},{"location":"infra/timeseries_object_factory/#app.infra.timeseries_object_factory","text":"","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;timeseries_object_factory"},{"location":"infra/util/","text":"app.infra.util flatten ( nested_list ) Flatten a nested list. get_input_path ( filename = 'input.csv' ) Return the absolute path to the input CSV file. By default, returns the path to 'config/input.csv' relative to this file. :param filename: str: Name of the CSV file to locate. :raises FileNotFoundError: If the data folder or file does not exist. :return: Absolute path to the requested CSV file.","title":"Util"},{"location":"infra/util/#app.infra.util","text":"","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;util"},{"location":"infra/util/#app.infra.util.flatten","text":"Flatten a nested list.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-function\"></code>&nbsp;flatten"},{"location":"infra/util/#app.infra.util.get_input_path","text":"Return the absolute path to the input CSV file. By default, returns the path to 'config/input.csv' relative to this file. :param filename: str: Name of the CSV file to locate. :raises FileNotFoundError: If the data folder or file does not exist. :return: Absolute path to the requested CSV file.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-function\"></code>&nbsp;get_input_path"},{"location":"infra/visualize/","text":"app.infra.visualize annotate_buses ( ax , net , label = 'name' , fontsize = 16 , offset = ( 0.0 , 0.0 ), bbox = True , filter_fn = None ) Annotate buses on a matplotlib axis created by pandapower.simple_plot. Parameters - ax: matplotlib Axes where the network was drawn - net: pandapower network - label: \"name\", \"index\" or any column name from net.bus (e.g. \"vm_pu\") - fontsize: text size - offset: (dx, dy) offset in data coordinates to move labels from bus position - bbox: whether to draw a semi-transparent background box - filter_fn: optional function (idx, row) -> bool to skip some buses draw_battery_icon ( ax , x , y , size = 0.02 , color = 'blue' ) Draw a stylized battery centered at (x, y). - size: fractional size relative to axis span (0.02 = 2% of axis span) fit_network_axis ( ax , net , padx = 0.05 , pady = 0.05 , min_span = 1e-06 , ymargin = 0 , xmargin = 0 ) Tighten ax limits to the extents of net.bus['x','y'] with a fractional padding. - pad: fraction of span to add on each side (0.05 = 5%) - min_span: avoid zero-span if all coords identical plot_branch_voltage_heatmaps ( results , branch_buses , bus_names , scenario_names = None , cmap = 'Greys' , figsize = ( 12 , 3.5 ), savepath = None ) Plot stacked heatmaps (max, mean, min) of node voltages along a branch for multiple scenarios. Parameters - results: list of CSV file paths or pandas DataFrames. Each entry corresponds to one scenario. Each DataFrame must contain a column identifying the bus (e.g. 'bus','node','bus_name') and a voltage column (e.g. 'vm_pu','vm','voltage'). - branch_buses: ordered list of bus names (x-axis). - scenario_names: optional list of names for the scenarios (y-axis). If None, indices are used. - cmap: matplotlib colormap name (defaults to 'Greys' to match network plotting). - figsize: figure size tuple. - savepath: if provided, save the figure to this path. Returns: - (fig, axes): Matplotlib figure and array of axes. plot_losses_violations_heatmaps ( results , net , scenario_names = None , cmap = 'Greys' , figsize = ( 10 , 6 ), savepath = None , violation_threshold = 1.01 ) Plot two heatmaps (losses, voltage violations) across scenarios. - results: list of CSV paths or pandas DataFrames (each scenario) - net: pandapower network (used to get line r and length) - returns (fig, axes) visualize_high_voltage_day ( net , results_csv = None , results_df = None , branches = None , figsize = ( 16 , 10 ), cmap = 'RdYlBu_r' , base_year = 2016 , output_path = None , scenario = None , trafo = 4 , remove_battery = False ) Visualize network snapshot at the highest voltage timestep.","title":"Visualize"},{"location":"infra/visualize/#app.infra.visualize","text":"","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;visualize"},{"location":"infra/visualize/#app.infra.visualize.annotate_buses","text":"Annotate buses on a matplotlib axis created by pandapower.simple_plot. Parameters - ax: matplotlib Axes where the network was drawn - net: pandapower network - label: \"name\", \"index\" or any column name from net.bus (e.g. \"vm_pu\") - fontsize: text size - offset: (dx, dy) offset in data coordinates to move labels from bus position - bbox: whether to draw a semi-transparent background box - filter_fn: optional function (idx, row) -> bool to skip some buses","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-function\"></code>&nbsp;annotate_buses"},{"location":"infra/visualize/#app.infra.visualize.draw_battery_icon","text":"Draw a stylized battery centered at (x, y). - size: fractional size relative to axis span (0.02 = 2% of axis span)","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-function\"></code>&nbsp;draw_battery_icon"},{"location":"infra/visualize/#app.infra.visualize.fit_network_axis","text":"Tighten ax limits to the extents of net.bus['x','y'] with a fractional padding. - pad: fraction of span to add on each side (0.05 = 5%) - min_span: avoid zero-span if all coords identical","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-function\"></code>&nbsp;fit_network_axis"},{"location":"infra/visualize/#app.infra.visualize.plot_branch_voltage_heatmaps","text":"Plot stacked heatmaps (max, mean, min) of node voltages along a branch for multiple scenarios. Parameters - results: list of CSV file paths or pandas DataFrames. Each entry corresponds to one scenario. Each DataFrame must contain a column identifying the bus (e.g. 'bus','node','bus_name') and a voltage column (e.g. 'vm_pu','vm','voltage'). - branch_buses: ordered list of bus names (x-axis). - scenario_names: optional list of names for the scenarios (y-axis). If None, indices are used. - cmap: matplotlib colormap name (defaults to 'Greys' to match network plotting). - figsize: figure size tuple. - savepath: if provided, save the figure to this path. Returns: - (fig, axes): Matplotlib figure and array of axes.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-function\"></code>&nbsp;plot_branch_voltage_heatmaps"},{"location":"infra/visualize/#app.infra.visualize.plot_losses_violations_heatmaps","text":"Plot two heatmaps (losses, voltage violations) across scenarios. - results: list of CSV paths or pandas DataFrames (each scenario) - net: pandapower network (used to get line r and length) - returns (fig, axes)","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-function\"></code>&nbsp;plot_losses_violations_heatmaps"},{"location":"infra/visualize/#app.infra.visualize.visualize_high_voltage_day","text":"Visualize network snapshot at the highest voltage timestep.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-function\"></code>&nbsp;visualize_high_voltage_day"},{"location":"model/device/","text":"app.model.device","title":"Device"},{"location":"model/device/#app.model.device","text":"","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;device"},{"location":"model/entity/","text":"app.model.entity Entity Represents any modelled object (e.g., component, device, node) in the system. Entities form the core building blocks of the energy system model. Each Entity can have quantities (data or decision variables), hierarchical sub-entities, and semantic or optimization-relevant relations. Attributes: - ( id (str ) \u2013 Unique identifier. - ( quantities (Dict[str, Quantity] ) \u2013 Named quantities belonging to this entity. - ( sub_entities (dict[str, Entity] ) \u2013 Optional nested child entities. - ( relations (list[Relation] ) \u2013 Constraints or rules related to this entity. - ( tags (dict ) \u2013 Dictionary of tags associated with this entity. - ( ts_factory (TimeseriesFactory ) \u2013 Used to generate time series objects in an advanced manner. __dir__ () Extend the default dir to include parameters and quantities. __getattr__ ( name ) Get an attribute by name, checking parameters and quantities. __init__ ( id = None , ts_factory = DefaultTimeseriesFactory (), ** kwargs ) Initialize the entity with an optional id. __str__ () String representation of the entity. add_sub_entity ( entity ) Add a sub_entity to the current entity. convert ( time_set , new_freq , converter ) Delegate to a visitor for conversion.","title":"Entity"},{"location":"model/entity/#app.model.entity","text":"","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;entity"},{"location":"model/entity/#app.model.entity.Entity","text":"Represents any modelled object (e.g., component, device, node) in the system. Entities form the core building blocks of the energy system model. Each Entity can have quantities (data or decision variables), hierarchical sub-entities, and semantic or optimization-relevant relations. Attributes: - ( id (str ) \u2013 Unique identifier. - ( quantities (Dict[str, Quantity] ) \u2013 Named quantities belonging to this entity. - ( sub_entities (dict[str, Entity] ) \u2013 Optional nested child entities. - ( relations (list[Relation] ) \u2013 Constraints or rules related to this entity. - ( tags (dict ) \u2013 Dictionary of tags associated with this entity. - ( ts_factory (TimeseriesFactory ) \u2013 Used to generate time series objects in an advanced manner.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-class\"></code>&nbsp;Entity"},{"location":"model/entity/#app.model.entity.Entity.__dir__","text":"Extend the default dir to include parameters and quantities.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;__dir__"},{"location":"model/entity/#app.model.entity.Entity.__getattr__","text":"Get an attribute by name, checking parameters and quantities.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;__getattr__"},{"location":"model/entity/#app.model.entity.Entity.__init__","text":"Initialize the entity with an optional id.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;__init__"},{"location":"model/entity/#app.model.entity.Entity.__str__","text":"String representation of the entity.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;__str__"},{"location":"model/entity/#app.model.entity.Entity.add_sub_entity","text":"Add a sub_entity to the current entity.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;add_sub_entity"},{"location":"model/entity/#app.model.entity.Entity.convert","text":"Delegate to a visitor for conversion.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;convert"},{"location":"model/generic_entity/","text":"app.model.generic_entity GenericEntity model used across the internal model representation. This module provides a lightweight, catch-all entity class useful when the input model contains objects that do not have a dedicated subclass. It wraps generic quantities and forwards time-series creation to a factory. GenericEntity Bases: Entity Represents a generic modelled object in the energy system. Use this class when an input object does not require a more specific subclass. GenericEntity stores named quantities (as Parameter objects), may contain nested sub-entities (inherited from Entity), and can hold relations or tags. Parameters id : str | None Optional unique identifier for the entity. If omitted a random id may be supplied by the base Entity implementation. ts_factory : TimeseriesFactory, optional Factory used to create time-series objects for quantities. If not provided DefaultTimeseriesFactory() is used. **kwargs : Arbitrary named quantities to initialize on the entity. Each key/value pair is converted into a Parameter(value=...). Common examples are numeric parameters parsed from CSV input (e.g. 'nominal_power'). Notes Additional keyword arguments accepted by the base Entity class are forwarded (e.g. for relations, tags or sub-entities). Quantities added via kwargs are wrapped as Parameter instances. If you need a different Quantity subclass create the entity and update entity.quantities manually. Attributes quantities : Dict[str, Quantity] Mapping of names to Quantity/Parameter objects belonging to the entity. __init__ ( id = None , ts_factory = DefaultTimeseriesFactory (), ** kwargs ) Initialize the GenericEntity. Keyword arguments supplied in kwargs are converted to Parameter objects and added to the entity's quantities mapping. Remaining behavior (id assignment, sub-entities, relations) is handled by the base Entity constructor. __str__ () Return a compact human-readable representation of the entity. Only Quantity instances contained in self.quantities are included in the string to avoid printing nested structures or non-quantity metadata.","title":"Generic entity"},{"location":"model/generic_entity/#app.model.generic_entity","text":"GenericEntity model used across the internal model representation. This module provides a lightweight, catch-all entity class useful when the input model contains objects that do not have a dedicated subclass. It wraps generic quantities and forwards time-series creation to a factory.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;generic_entity"},{"location":"model/generic_entity/#app.model.generic_entity.GenericEntity","text":"Bases: Entity Represents a generic modelled object in the energy system. Use this class when an input object does not require a more specific subclass. GenericEntity stores named quantities (as Parameter objects), may contain nested sub-entities (inherited from Entity), and can hold relations or tags.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-class\"></code>&nbsp;GenericEntity"},{"location":"model/generic_entity/#app.model.generic_entity.GenericEntity--parameters","text":"id : str | None Optional unique identifier for the entity. If omitted a random id may be supplied by the base Entity implementation. ts_factory : TimeseriesFactory, optional Factory used to create time-series objects for quantities. If not provided DefaultTimeseriesFactory() is used. **kwargs : Arbitrary named quantities to initialize on the entity. Each key/value pair is converted into a Parameter(value=...). Common examples are numeric parameters parsed from CSV input (e.g. 'nominal_power').","title":"Parameters"},{"location":"model/generic_entity/#app.model.generic_entity.GenericEntity--notes","text":"Additional keyword arguments accepted by the base Entity class are forwarded (e.g. for relations, tags or sub-entities). Quantities added via kwargs are wrapped as Parameter instances. If you need a different Quantity subclass create the entity and update entity.quantities manually.","title":"Notes"},{"location":"model/generic_entity/#app.model.generic_entity.GenericEntity--attributes","text":"quantities : Dict[str, Quantity] Mapping of names to Quantity/Parameter objects belonging to the entity.","title":"Attributes"},{"location":"model/generic_entity/#app.model.generic_entity.GenericEntity.__init__","text":"Initialize the GenericEntity. Keyword arguments supplied in kwargs are converted to Parameter objects and added to the entity's quantities mapping. Remaining behavior (id assignment, sub-entities, relations) is handled by the base Entity constructor.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;__init__"},{"location":"model/generic_entity/#app.model.generic_entity.GenericEntity.__str__","text":"Return a compact human-readable representation of the entity. Only Quantity instances contained in self.quantities are included in the string to avoid printing nested structures or non-quantity metadata.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;__str__"},{"location":"model/model/","text":"app.model.model Model Represents the entire simulation or optimization model. The Model serves as the container for all top-level entities, configuration parameters, time settings, and solver-specific logic. It provides an interface to convert the entire system into an optimization problem. Attributes: - ( id (Optional[str] ) \u2013 Identifies of the model. - ( entities (list[Entity] ) \u2013 Top-level entities (e.g., buses, generators, loads). - ( time_set (int ) \u2013 Number of time steps in the simulation. - ( frequency (str ) \u2013 Time resolution (e.g., '1h', '15min'). __init__ ( id = None , timeset_builder = TimesetBuilder (), ** kwargs ) Initialize the model with an optional name __str__ () String representation of the model build ( id , config , time_set , frequency ) classmethod Build the model from a configuration dictionary convert ( converter , time_set = None , new_freq = None ) Convert the model to an optimization/simulation problem","title":"Model"},{"location":"model/model/#app.model.model","text":"","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;model"},{"location":"model/model/#app.model.model.Model","text":"Represents the entire simulation or optimization model. The Model serves as the container for all top-level entities, configuration parameters, time settings, and solver-specific logic. It provides an interface to convert the entire system into an optimization problem. Attributes: - ( id (Optional[str] ) \u2013 Identifies of the model. - ( entities (list[Entity] ) \u2013 Top-level entities (e.g., buses, generators, loads). - ( time_set (int ) \u2013 Number of time steps in the simulation. - ( frequency (str ) \u2013 Time resolution (e.g., '1h', '15min').","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-class\"></code>&nbsp;Model"},{"location":"model/model/#app.model.model.Model.__init__","text":"Initialize the model with an optional name","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;__init__"},{"location":"model/model/#app.model.model.Model.__str__","text":"String representation of the model","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;__str__"},{"location":"model/model/#app.model.model.Model.build","text":"Build the model from a configuration dictionary","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;build"},{"location":"model/model/#app.model.model.Model.convert","text":"Convert the model to an optimization/simulation problem","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;convert"},{"location":"model/slack/","text":"app.model.slack Slack Bases: Device __str__ () String representation of the Slack entity.","title":"Slack"},{"location":"model/slack/#app.model.slack","text":"","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;slack"},{"location":"model/slack/#app.model.slack.Slack","text":"Bases: Device","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-class\"></code>&nbsp;Slack"},{"location":"model/slack/#app.model.slack.Slack.__str__","text":"String representation of the Slack entity.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;__str__"},{"location":"model/generator/generator/","text":"app.model.generator.generator","title":"Generator"},{"location":"model/generator/generator/#app.model.generator.generator","text":"","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;generator"},{"location":"model/generator/pv/","text":"app.model.generator.pv PV Bases: Generator __str__ () String representation of the PV entity.","title":"Pv"},{"location":"model/generator/pv/#app.model.generator.pv","text":"","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;pv"},{"location":"model/generator/pv/#app.model.generator.pv.PV","text":"Bases: Generator","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-class\"></code>&nbsp;PV"},{"location":"model/generator/pv/#app.model.generator.pv.PV.__str__","text":"String representation of the PV entity.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;__str__"},{"location":"model/generator/wind_turbine/","text":"app.model.generator.wind_turbine","title":"Wind turbine"},{"location":"model/generator/wind_turbine/#app.model.generator.wind_turbine","text":"","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;wind_turbine"},{"location":"model/grid_component/bus/","text":"app.model.grid_component.bus Bus Bases: GridComponent __str__ () String representation of the Bus entity.","title":"Bus"},{"location":"model/grid_component/bus/#app.model.grid_component.bus","text":"","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;bus"},{"location":"model/grid_component/bus/#app.model.grid_component.bus.Bus","text":"Bases: GridComponent","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-class\"></code>&nbsp;Bus"},{"location":"model/grid_component/bus/#app.model.grid_component.bus.Bus.__str__","text":"String representation of the Bus entity.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;__str__"},{"location":"model/grid_component/connector/","text":"app.model.grid_component.connector Connector Bases: GridComponent __str__ () String representation of the Connector entity.","title":"Connector"},{"location":"model/grid_component/connector/#app.model.grid_component.connector","text":"","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;connector"},{"location":"model/grid_component/connector/#app.model.grid_component.connector.Connector","text":"Bases: GridComponent","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-class\"></code>&nbsp;Connector"},{"location":"model/grid_component/connector/#app.model.grid_component.connector.Connector.__str__","text":"String representation of the Connector entity.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;__str__"},{"location":"model/grid_component/grid_component/","text":"app.model.grid_component.grid_component GridComponent Bases: Entity Represents both the physical and abstract elements of an electrical grid, like transformers, buses, nodes and power lines.","title":"Grid component"},{"location":"model/grid_component/grid_component/#app.model.grid_component.grid_component","text":"","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;grid_component"},{"location":"model/grid_component/grid_component/#app.model.grid_component.grid_component.GridComponent","text":"Bases: Entity Represents both the physical and abstract elements of an electrical grid, like transformers, buses, nodes and power lines.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-class\"></code>&nbsp;GridComponent"},{"location":"model/grid_component/line/","text":"app.model.grid_component.line Line Bases: Connector __str__ () String representation of the Line entity.","title":"Line"},{"location":"model/grid_component/line/#app.model.grid_component.line","text":"","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;line"},{"location":"model/grid_component/line/#app.model.grid_component.line.Line","text":"Bases: Connector","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-class\"></code>&nbsp;Line"},{"location":"model/grid_component/line/#app.model.grid_component.line.Line.__str__","text":"String representation of the Line entity.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;__str__"},{"location":"model/grid_component/transformer/","text":"app.model.grid_component.transformer Transformer Bases: Connector Transformer (HV/LV) model read from SimBench-like CSV. Parameters id : str | None Optional identifier for the transformer. ts_factory : TimeseriesFactory, optional Factory used to create time-series objects for this component. If not provided the DefaultTimeseriesFactory is used. **kwargs : Additional keyword arguments accepted (commonly present in SimBench CSV parsing) - hv_bus: identifier or name of the high-voltage bus (int or str) - lv_bus: identifier or name of the low-voltage bus (int or str) - nominal_power: rated power in MVA (float) - nominal_voltage_hv_side: rated HV-side voltage in kV (float) - nominal_voltage_lv_side: rated LV-side voltage in kV (float) - type: arbitrary transformer type string Other kwargs are forwarded to the base Connector and may be accepted there as well. Attributes default_nominal_power : float Default nominal power in MVA. default_nominal_voltage_hv_side : float Default nominal voltage on the high-voltage side in kV. default_nominal_voltage_lv_side : float Default nominal voltage on the low-voltage side in kV. quantities : dict Mapping of quantity names to Parameter objects created from kwargs. __init__ ( id = None , ts_factory = DefaultTimeseriesFactory (), ** kwargs ) Initialize a Transformer instance. Values provided in kwargs (for example nominal_power ) override the class defaults. Any remaining kwargs are passed to the Connector base class.","title":"Transformer"},{"location":"model/grid_component/transformer/#app.model.grid_component.transformer","text":"","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;transformer"},{"location":"model/grid_component/transformer/#app.model.grid_component.transformer.Transformer","text":"Bases: Connector Transformer (HV/LV) model read from SimBench-like CSV.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-class\"></code>&nbsp;Transformer"},{"location":"model/grid_component/transformer/#app.model.grid_component.transformer.Transformer--parameters","text":"id : str | None Optional identifier for the transformer. ts_factory : TimeseriesFactory, optional Factory used to create time-series objects for this component. If not provided the DefaultTimeseriesFactory is used. **kwargs : Additional keyword arguments accepted (commonly present in SimBench CSV parsing) - hv_bus: identifier or name of the high-voltage bus (int or str) - lv_bus: identifier or name of the low-voltage bus (int or str) - nominal_power: rated power in MVA (float) - nominal_voltage_hv_side: rated HV-side voltage in kV (float) - nominal_voltage_lv_side: rated LV-side voltage in kV (float) - type: arbitrary transformer type string Other kwargs are forwarded to the base Connector and may be accepted there as well.","title":"Parameters"},{"location":"model/grid_component/transformer/#app.model.grid_component.transformer.Transformer--attributes","text":"default_nominal_power : float Default nominal power in MVA. default_nominal_voltage_hv_side : float Default nominal voltage on the high-voltage side in kV. default_nominal_voltage_lv_side : float Default nominal voltage on the low-voltage side in kV. quantities : dict Mapping of quantity names to Parameter objects created from kwargs.","title":"Attributes"},{"location":"model/grid_component/transformer/#app.model.grid_component.transformer.Transformer.__init__","text":"Initialize a Transformer instance. Values provided in kwargs (for example nominal_power ) override the class defaults. Any remaining kwargs are passed to the Connector base class.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;__init__"},{"location":"model/load/load/","text":"app.model.load.load Load Bases: Device __str__ () String representation of the Load entity.","title":"Load"},{"location":"model/load/load/#app.model.load.load","text":"","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;load"},{"location":"model/load/load/#app.model.load.load.Load","text":"Bases: Device","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-class\"></code>&nbsp;Load"},{"location":"model/load/load/#app.model.load.load.Load.__str__","text":"String representation of the Load entity.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;__str__"},{"location":"model/storage/battery/","text":"app.model.storage.battery Battery Bases: Storage __str__ () String representation of the Battery entity.","title":"Battery"},{"location":"model/storage/battery/#app.model.storage.battery","text":"","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;battery"},{"location":"model/storage/battery/#app.model.storage.battery.Battery","text":"Bases: Storage","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-class\"></code>&nbsp;Battery"},{"location":"model/storage/battery/#app.model.storage.battery.Battery.__str__","text":"String representation of the Battery entity.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-method\"></code>&nbsp;__str__"},{"location":"model/storage/hot_water_storage/","text":"app.model.storage.hot_water_storage","title":"Hot water storage"},{"location":"model/storage/hot_water_storage/#app.model.storage.hot_water_storage","text":"","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;hot_water_storage"},{"location":"model/storage/storage/","text":"app.model.storage.storage","title":"Storage"},{"location":"model/storage/storage/#app.model.storage.storage","text":"","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;storage"},{"location":"model/transducer/transducer/","text":"app.model.transducer.transducer","title":"Transducer"},{"location":"model/transducer/transducer/#app.model.transducer.transducer","text":"","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;transducer"},{"location":"operation/example_optimization/","text":"app.operation.example_optimization","title":"Example optimization"},{"location":"operation/example_optimization/#app.operation.example_optimization","text":"","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;example_optimization"},{"location":"operation/example_simulation/","text":"app.operation.example_simulation Example simulation module for energy system power flow analysis. This module demonstrates how to run time-stepped power flow simulations on a pandapower network. It provides utilities to set load and generator values from time-series profiles, run power flow calculations, and collect results for each timestep. Sign Conventions Loads: p_mw is positive for consumption (kW \u2192 MW \u00f7 1000) Generators (PV/wind/battery): p_mw is negative for injection (generation) into the network (i.e., sgen.p_mw = -gen_kW \u00f7 1000) This sign convention is common in pandapower but should be verified for consistency with your specific use case. collect_results ( net , results , time_idx ) Collect power flow results from the network and store in a results DataFrame. After a successful power flow calculation, this function extracts voltage and current results from the network and stores them in the provided results DataFrame. Parameters net : pp.pandapowerNet The pandapower network with computed results in net.res_bus and net.res_line tables. results : pd.DataFrame The results DataFrame indexed by timestep, with columns named as '{element_idx}_{quantity}' (e.g., '0_vm_pu', '1_i_ka'). This DataFrame is modified in-place. time_idx : int The row index (timestep) at which to store results in the DataFrame. Notes Extracts bus-level quantities: vm_pu, va_degree, p_mw, q_mvar Extracts line-level quantities: i_ka (current in kA) Results are indexed by bus index and line index within the network Returns None Results are stored in-place in the provided DataFrame. init_results_frame ( net , time_set ) Initialize an empty DataFrame to store power flow results for all timesteps. Creates a results DataFrame with one row per timestep and columns for each bus quantity and line quantity that will be collected after running power flow calculations. Parameters net : pp.pandapowerNet The pandapower network whose bus and line indices are used to generate column names. time_set : list or range The set of timesteps (indices) for which results will be collected. Used as the index of the returned DataFrame. Returns pd.DataFrame An empty DataFrame with time_set as index and columns named as: - '{bus_idx}_vm_pu', '{bus_idx}_va_degree', '{bus_idx}_p_mw', '{bus_idx}_q_mvar' for each bus in net.bus - '{line_idx}_i_ka' for each line in net.line Notes The returned DataFrame is populated later by collect_results() after each power flow calculation. set_timestep_values ( net , timestep_idx ) Set load and generator power values for a specific timestep. Updates the pandapower network with time-series values from the profiles DataFrames for a given timestep. Loads are set with positive p_mw values (consumption), while generators (sgen) are set to inject power (convention may vary). Parameters net : pp.pandapowerNet The pandapower network to update. Must have 'profiles' dict with 'load' and 'renewables' DataFrames, indexed by timestep. timestep_idx : int The timestep index to retrieve values for. Used to index into net.profiles['load'] and net.profiles['renewables']. Notes Expects net.profiles['load'] columns named as: '{load_name}_p_cons', '{load_name}_q_cons' Expects net.profiles['renewables'] columns named as: '{sgen_name}_p_out' Values in profiles are in kW; converted to MW for pandapower (\u00f7 1000) Reactive power for sgens is set to 0 Raises KeyError If timestep_idx is not in the profiles index or if expected column names are missing from the profiles DataFrames. simulate_energy_system ( net , ** kwargs ) Run a time-stepped power flow simulation on the pandapower network. Iterates through all timesteps in the network's time_set, updates load and generator values from profiles for each timestep, runs a power flow calculation, and collects results. Non-convergence is logged as a warning but does not halt the simulation. Parameters net : pp.pandapowerNet The pandapower network to simulate. Must have: - 'time_set' attribute containing timestep indices - 'profiles' dict with 'load' and 'renewables' DataFrames - All standard pandapower tables (bus, load, line, sgen, ext_grid, etc.) Returns None Results are written to a CSV file 'energy_system_power_flow_results.csv' in the current working directory. Notes Power flow solver settings (Newton-Raphson method, tolerance, etc.) are hardcoded. Modify the pp.runpp() call to change solver parameters. Convergence Uses 'auto' initialization for the first timestep, 'results' for subsequent timesteps (warm start) Maximum 30 iterations allowed per timestep Failure to converge is logged but the simulation continues Raises AttributeError If net does not have a 'time_set' attribute or if profiles are missing.","title":"Example simulation"},{"location":"operation/example_simulation/#app.operation.example_simulation","text":"Example simulation module for energy system power flow analysis. This module demonstrates how to run time-stepped power flow simulations on a pandapower network. It provides utilities to set load and generator values from time-series profiles, run power flow calculations, and collect results for each timestep. Sign Conventions Loads: p_mw is positive for consumption (kW \u2192 MW \u00f7 1000) Generators (PV/wind/battery): p_mw is negative for injection (generation) into the network (i.e., sgen.p_mw = -gen_kW \u00f7 1000) This sign convention is common in pandapower but should be verified for consistency with your specific use case.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;example_simulation"},{"location":"operation/example_simulation/#app.operation.example_simulation.collect_results","text":"Collect power flow results from the network and store in a results DataFrame. After a successful power flow calculation, this function extracts voltage and current results from the network and stores them in the provided results DataFrame.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-function\"></code>&nbsp;collect_results"},{"location":"operation/example_simulation/#app.operation.example_simulation.collect_results--parameters","text":"net : pp.pandapowerNet The pandapower network with computed results in net.res_bus and net.res_line tables. results : pd.DataFrame The results DataFrame indexed by timestep, with columns named as '{element_idx}_{quantity}' (e.g., '0_vm_pu', '1_i_ka'). This DataFrame is modified in-place. time_idx : int The row index (timestep) at which to store results in the DataFrame.","title":"Parameters"},{"location":"operation/example_simulation/#app.operation.example_simulation.collect_results--notes","text":"Extracts bus-level quantities: vm_pu, va_degree, p_mw, q_mvar Extracts line-level quantities: i_ka (current in kA) Results are indexed by bus index and line index within the network","title":"Notes"},{"location":"operation/example_simulation/#app.operation.example_simulation.collect_results--returns","text":"None Results are stored in-place in the provided DataFrame.","title":"Returns"},{"location":"operation/example_simulation/#app.operation.example_simulation.init_results_frame","text":"Initialize an empty DataFrame to store power flow results for all timesteps. Creates a results DataFrame with one row per timestep and columns for each bus quantity and line quantity that will be collected after running power flow calculations.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-function\"></code>&nbsp;init_results_frame"},{"location":"operation/example_simulation/#app.operation.example_simulation.init_results_frame--parameters","text":"net : pp.pandapowerNet The pandapower network whose bus and line indices are used to generate column names. time_set : list or range The set of timesteps (indices) for which results will be collected. Used as the index of the returned DataFrame.","title":"Parameters"},{"location":"operation/example_simulation/#app.operation.example_simulation.init_results_frame--returns","text":"pd.DataFrame An empty DataFrame with time_set as index and columns named as: - '{bus_idx}_vm_pu', '{bus_idx}_va_degree', '{bus_idx}_p_mw', '{bus_idx}_q_mvar' for each bus in net.bus - '{line_idx}_i_ka' for each line in net.line","title":"Returns"},{"location":"operation/example_simulation/#app.operation.example_simulation.init_results_frame--notes","text":"The returned DataFrame is populated later by collect_results() after each power flow calculation.","title":"Notes"},{"location":"operation/example_simulation/#app.operation.example_simulation.set_timestep_values","text":"Set load and generator power values for a specific timestep. Updates the pandapower network with time-series values from the profiles DataFrames for a given timestep. Loads are set with positive p_mw values (consumption), while generators (sgen) are set to inject power (convention may vary).","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-function\"></code>&nbsp;set_timestep_values"},{"location":"operation/example_simulation/#app.operation.example_simulation.set_timestep_values--parameters","text":"net : pp.pandapowerNet The pandapower network to update. Must have 'profiles' dict with 'load' and 'renewables' DataFrames, indexed by timestep. timestep_idx : int The timestep index to retrieve values for. Used to index into net.profiles['load'] and net.profiles['renewables'].","title":"Parameters"},{"location":"operation/example_simulation/#app.operation.example_simulation.set_timestep_values--notes","text":"Expects net.profiles['load'] columns named as: '{load_name}_p_cons', '{load_name}_q_cons' Expects net.profiles['renewables'] columns named as: '{sgen_name}_p_out' Values in profiles are in kW; converted to MW for pandapower (\u00f7 1000) Reactive power for sgens is set to 0","title":"Notes"},{"location":"operation/example_simulation/#app.operation.example_simulation.set_timestep_values--raises","text":"KeyError If timestep_idx is not in the profiles index or if expected column names are missing from the profiles DataFrames.","title":"Raises"},{"location":"operation/example_simulation/#app.operation.example_simulation.simulate_energy_system","text":"Run a time-stepped power flow simulation on the pandapower network. Iterates through all timesteps in the network's time_set, updates load and generator values from profiles for each timestep, runs a power flow calculation, and collects results. Non-convergence is logged as a warning but does not halt the simulation.","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-function\"></code>&nbsp;simulate_energy_system"},{"location":"operation/example_simulation/#app.operation.example_simulation.simulate_energy_system--parameters","text":"net : pp.pandapowerNet The pandapower network to simulate. Must have: - 'time_set' attribute containing timestep indices - 'profiles' dict with 'load' and 'renewables' DataFrames - All standard pandapower tables (bus, load, line, sgen, ext_grid, etc.)","title":"Parameters"},{"location":"operation/example_simulation/#app.operation.example_simulation.simulate_energy_system--returns","text":"None Results are written to a CSV file 'energy_system_power_flow_results.csv' in the current working directory.","title":"Returns"},{"location":"operation/example_simulation/#app.operation.example_simulation.simulate_energy_system--notes","text":"Power flow solver settings (Newton-Raphson method, tolerance, etc.) are hardcoded. Modify the pp.runpp() call to change solver parameters. Convergence Uses 'auto' initialization for the first timestep, 'results' for subsequent timesteps (warm start) Maximum 30 iterations allowed per timestep Failure to converge is logged but the simulation continues","title":"Notes"},{"location":"operation/example_simulation/#app.operation.example_simulation.simulate_energy_system--raises","text":"AttributeError If net does not have a 'time_set' attribute or if profiles are missing.","title":"Raises"},{"location":"operation/simbench_1-LV-rural1--0-sw_feeder/","text":"app.operation.simbench_1-LV-rural1--0-sw_feeder","title":"simbench 1 LV rural1  0 sw feeder"},{"location":"operation/simbench_1-LV-rural1--0-sw_feeder/#app.operation.simbench_1-LV-rural1--0-sw_feeder","text":"","title":"<code class=\"doc-symbol doc-symbol-toc doc-symbol-module\"></code>&nbsp;simbench_1-LV-rural1--0-sw_feeder"}]}