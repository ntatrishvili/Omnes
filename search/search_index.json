{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Welcome to OMNES Docs","text":""},{"location":"conversion/conversion_utils/","title":"Conversion utils","text":""},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils","title":"<code>app.conversion.conversion_utils</code>","text":"<p>Conversion-specific utility functions for optimization problems.</p> <p>This module contains utilities specifically for working with conversion functionality variables, constraints, and expressions.</p>"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.create_empty_pulp_var","title":"<code>create_empty_pulp_var(name, time_set_size)</code>","text":"<p>Create a list of empty LpVariable with the specified name and time set size.</p>"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.create_empty_pulp_var--parameters","title":"Parameters:","text":"<p>name : str     Base name for the variables time_set_size : int     Number of time steps to create variables for</p>"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.create_empty_pulp_var--returns","title":"Returns:","text":"<p>List[pulp.LpVariable]     List of PuLP variables with non-negative bounds</p>"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.handle_arithmetic_operator","title":"<code>handle_arithmetic_operator(operator, left_result, right_result)</code>","text":"<p>Handle arithmetic operators for expression creation.</p>"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.handle_arithmetic_operator--parameters","title":"Parameters:","text":"<p>operator : Operator     The arithmetic operator left_result : Any     Left operand result right_result : Any     Right operand result</p>"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.handle_arithmetic_operator--returns","title":"Returns:","text":"<p>PuLP expression     The resulting arithmetic expression</p>"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.handle_arithmetic_operator--raises","title":"Raises:","text":"<p>ValueError     If the operation violates linear programming constraints</p>"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.handle_comparison_operator","title":"<code>handle_comparison_operator(operator, left_result, right_result)</code>","text":"<p>Handle comparison operators for constraint creation.</p>"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.handle_comparison_operator--parameters","title":"Parameters:","text":"<p>operator : Operator     The comparison operator left_result : Any     Left operand result right_result : Any     Right operand result</p>"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.handle_comparison_operator--returns","title":"Returns:","text":"<p>PuLP constraint     The resulting constraint</p>"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.is_arithmetic_operator","title":"<code>is_arithmetic_operator(operator)</code>","text":"<p>Check if operator is an arithmetic operator.</p>"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.is_arithmetic_operator--parameters","title":"Parameters:","text":"<p>operator : Operator     The operator to check</p>"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.is_arithmetic_operator--returns","title":"Returns:","text":"<p>bool     True if operator is an arithmetic operator</p>"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.is_comparison_operator","title":"<code>is_comparison_operator(operator)</code>","text":"<p>Check if operator is a comparison operator.</p>"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.is_comparison_operator--parameters","title":"Parameters:","text":"<p>operator : Operator     The operator to check</p>"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.is_comparison_operator--returns","title":"Returns:","text":"<p>bool     True if operator is a comparison operator</p>"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.validate_linear_division","title":"<code>validate_linear_division(right_result)</code>","text":"<p>Validate that division maintains linearity.</p>"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.validate_linear_division--parameters","title":"Parameters:","text":"<p>right_result : Any     The divisor</p>"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.validate_linear_division--raises","title":"Raises:","text":"<p>ValueError     If divisor is a variable (non-linear)</p>"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.validate_linear_multiplication","title":"<code>validate_linear_multiplication(left_result, right_result)</code>","text":"<p>Validate that multiplication maintains linearity.</p>"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.validate_linear_multiplication--parameters","title":"Parameters:","text":"<p>left_result : Any     Left operand right_result : Any     Right operand</p>"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.validate_linear_multiplication--raises","title":"Raises:","text":"<p>ValueError     If both operands are variables (non-linear)</p>"},{"location":"conversion/conversion_utils/#app.conversion.conversion_utils.warn_about_not_equal_constraint","title":"<code>warn_about_not_equal_constraint()</code>","text":"<p>Warn user about complexity of not-equal constraints.</p>"},{"location":"conversion/converter/","title":"Converter","text":""},{"location":"conversion/converter/#app.conversion.converter","title":"<code>app.conversion.converter</code>","text":""},{"location":"conversion/pulp_converter/","title":"Pulp converter","text":""},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter","title":"<code>app.conversion.pulp_converter</code>","text":""},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter","title":"<code>PulpConverter</code>","text":"<p>               Bases: <code>Converter</code></p> <p>Converts a Model class object into a PuLP optimization problem.</p> <p>This converter handles the transformation of energy system models into linear programming problems that can be solved using the PuLP optimization library. It converts entities, quantities, and relations into PuLP variables and constraints while maintaining temporal relationships and handling time series data resampling.</p> <p>The converter supports: - Time-indexed variables for dynamic optimization - Linear constraints between variables - Temporal relationships (t-1, t+1 references) - Time series data resampling - Hierarchical entity structures</p>"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter--attributes","title":"Attributes","text":"<p>DEFAULT_TIME_SET_SIZE : int     Default number of time steps when none is specified (10)</p>"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter--notes","title":"Notes","text":"<p>This converter is designed for linear programming problems only. Non-linear operations like variable multiplication or division by variables will raise ValueError.</p>"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter--examples","title":"Examples","text":"<p>converter = PulpConverter() model_vars = converter.convert_model(energy_model) constraints = model_vars['battery.soc_constraint']</p>"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_binary_expression","title":"<code>convert_binary_expression(binary_expr, left_result, right_result, operator, t, time_set=None, new_freq=None)</code>","text":"<p>Convert a binary expression to PuLP constraint or arithmetic operation.</p>"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_binary_expression--parameters","title":"Parameters","text":"<p>binary_expr : BinaryExpression     The binary expression object (unused) left_result : Any     Result of the left operand evaluation right_result : Any     Result of the right operand evaluation operator : Operator     The operator to apply between left and right operands t : int     Current time step (unused) time_set : Optional[Union[int, range]], optional     Time set (unused) new_freq : Optional[str], optional     Frequency (unused)</p>"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_binary_expression--returns","title":"Returns","text":"<p>Union[pulp.LpConstraint, pulp.LpExpression]     PuLP constraint for comparison operators or expression for arithmetic operators</p>"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_binary_expression--raises","title":"Raises","text":"<p>ValueError     If the operator is not supported or violates linear programming constraints.</p>"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_entity","title":"<code>convert_entity(entity, time_set=None, new_freq=None)</code>","text":"<p>Convert an Entity and its sub-entities into a flat dictionary of pulp variables.</p> <p>This method recursively traverses the entity hierarchy, resamples all time series data to the specified frequency, and converts each TimeseriesObject into pulp-compatible variables using its <code>convert</code> method.</p>"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_entity--parameters","title":"Parameters","text":"<p>entity : Entity     The root entity to convert (may have sub-entities). time_set : Optional[Union[int, range]], optional     The number of time steps to represent in the pulp variables.     If None, uses the default time set size. new_freq : Optional[str], optional     The target frequency to resample time series data to (e.g., '15min', '1H').</p>"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_entity--returns","title":"Returns","text":"<p>Dict[str, Any]     A flat dictionary containing all pulp variables from the entity and its descendants.     Keys are in the format 'entity_id.quantity_name' for quantities and 'relation_name'     for constraints.</p>"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_entity_reference","title":"<code>convert_entity_reference(entity_ref, entity_id, t, time_set=None, new_freq=None)</code>","text":"<p>Convert an entity reference to a PuLP variable for the given time step.</p>"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_entity_reference--parameters","title":"Parameters","text":"<p>entity_ref : EntityReference     The entity reference object containing time offset information entity_id : str     The entity ID to look up in the variables dictionary t : int     Current time step time_set : Optional[Union[int, range]], optional     Total time set (unused here but kept for consistency) new_freq : Optional[str], optional     Frequency (unused here but kept for consistency)</p>"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_entity_reference--returns","title":"Returns","text":"<p>Union[pulp.LpVariable, Any]     PuLP variable or expression for the specified time step</p>"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_entity_reference--raises","title":"Raises","text":"<p>ValueError     If the entity_id is not found in the objects dictionary.</p>"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_literal","title":"<code>convert_literal(literal, value, t, time_set=None, new_freq=None)</code>","text":"<p>Convert a literal value (returns the value as-is).</p>"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_literal--parameters","title":"Parameters","text":"<p>literal : Literal     The literal object (unused) value : Any     The literal value to return t : int     Current time step (unused) time_set : Optional[Union[int, range]], optional     Time set (unused) new_freq : Optional[str], optional     Frequency (unused)</p>"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_literal--returns","title":"Returns","text":"<p>Any     The literal value unchanged</p>"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_model","title":"<code>convert_model(model, time_set=None, new_freq=None)</code>","text":"<p>Convert the model to an optimization/simulation problem.</p> <p>Converts the model's entities and their quantities into a flat dictionary of pulp variables suitable for optimization. It also handles the resampling of time series data to the specified frequency and time set.</p>"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_model--parameters","title":"Parameters","text":"<p>model : Model     The model to convert. time_set : Optional[Union[int, range]], optional     The number of time steps to represent in the pulp variables.     If None, uses model.number_of_time_steps. new_freq : Optional[str], optional     The target frequency to resample time series data to (e.g., '15min', '1H').     If None, uses model.frequency.</p>"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_model--returns","title":"Returns","text":"<p>Dict[str, Any]     Dictionary containing all pulp variables and time set information.     Includes a 'time_set' key with the range of time steps.</p>"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_quantity","title":"<code>convert_quantity(quantity, name, time_set=None, freq=None)</code>","text":"<p>Convert the time series data to a format suitable for pulp optimization.</p> <p>If the quantity is empty, create an empty pulp variable. If the quantity is a Parameter, return its value directly. Otherwise, return the values resampled to the specified time set and frequency.</p>"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_quantity--parameters","title":"Parameters","text":"<p>quantity : Quantity     The quantity to convert name : str     The name for the generated variables time_set : Optional[Union[int, range]], optional     The time set specification. If None, uses default size. freq : Optional[str], optional     The frequency for resampling</p>"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_quantity--returns","title":"Returns","text":"<p>Union[List[pulp.LpVariable], Any]     Either a list of PuLP variables (for empty quantities) or the quantity values</p>"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_relation","title":"<code>convert_relation(relation, entity_variables, time_set=None, new_freq=None)</code>","text":"<p>Convert a Relation to PuLP constraints for each time step.</p> <p>This method dynamically assembles relations based on identified entity references and operations. For example: \"battery1.discharge_power(t)&lt;2*battery1.discharge_power(t-1)\" becomes: for t in time_set:     constraint = battery1.discharge_power[t] &lt; 2 * battery1.discharge_power[t-1]</p>"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_relation--parameters","title":"Parameters","text":"<p>relation : Relation     The relation to convert entity_variables : Dict[str, Any]     Dictionary mapping entity IDs to their PuLP variables time_set : Optional[Union[int, range]], optional     The time set to iterate over. If None, uses default size. new_freq : Optional[str], optional     Frequency (kept for consistency with interface)</p>"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_relation--returns","title":"Returns","text":"<p>Dict[str, List]     Dictionary containing the constraint name as key and list of constraints as value.</p>"},{"location":"conversion/pulp_converter/#app.conversion.pulp_converter.PulpConverter.convert_relation--raises","title":"Raises","text":"<p>ValueError     If any entity referenced in the relation is not found in entity_variables.</p>"},{"location":"conversion/validation_utils/","title":"Validation utils","text":""},{"location":"conversion/validation_utils/#app.conversion.validation_utils","title":"<code>app.conversion.validation_utils</code>","text":"<p>Validation utilities for conversion operations.</p> <p>This module contains validation functions that are commonly used across different conversion classes to ensure data integrity and proper error handling.</p>"},{"location":"conversion/validation_utils/#app.conversion.validation_utils.handle_time_bounds","title":"<code>handle_time_bounds(actual_time, pulp_var, variable_name='variable')</code>","text":"<p>Handle time bounds checking for time-indexed variables with proper warnings.</p>"},{"location":"conversion/validation_utils/#app.conversion.validation_utils.handle_time_bounds--parameters","title":"Parameters:","text":"<p>actual_time : int     The requested time index pulp_var : Any     The PuLP variable (usually a list or dict-like object) variable_name : str     Name of the variable for warning messages</p>"},{"location":"conversion/validation_utils/#app.conversion.validation_utils.handle_time_bounds--returns","title":"Returns:","text":"<p>int     The adjusted time index within valid bounds</p>"},{"location":"conversion/validation_utils/#app.conversion.validation_utils.validate_and_normalize_time_set","title":"<code>validate_and_normalize_time_set(time_set, default_size=10)</code>","text":"<p>Validate and normalize time_set parameter to a range object.</p>"},{"location":"conversion/validation_utils/#app.conversion.validation_utils.validate_and_normalize_time_set--parameters","title":"Parameters","text":"<p>time_set : Optional[Union[int, range]]     The time set to validate and normalize. Can be:     - None: uses default_size     - int: converted to range(time_set)     - range: returned as-is default_size : int, default=10     Default size to use if time_set is None</p>"},{"location":"conversion/validation_utils/#app.conversion.validation_utils.validate_and_normalize_time_set--returns","title":"Returns","text":"<p>range     Normalized time set as a range object</p>"},{"location":"conversion/validation_utils/#app.conversion.validation_utils.validate_and_normalize_time_set--raises","title":"Raises","text":"<p>ValueError     If time_set is not a valid type or if int time_set is negative</p>"},{"location":"conversion/validation_utils/#app.conversion.validation_utils.validate_and_normalize_time_set--examples","title":"Examples","text":"<p>validate_and_normalize_time_set(5) range(0, 5) validate_and_normalize_time_set(None, 3) range(0, 3)</p>"},{"location":"conversion/validation_utils/#app.conversion.validation_utils.validate_entity_exists","title":"<code>validate_entity_exists(entity_id, entity_dict)</code>","text":"<p>Validate that an entity exists in the provided dictionary.</p>"},{"location":"conversion/validation_utils/#app.conversion.validation_utils.validate_entity_exists--parameters","title":"Parameters","text":"<p>entity_id : str     The entity ID to validate entity_dict : dict     Dictionary containing entity mappings</p>"},{"location":"conversion/validation_utils/#app.conversion.validation_utils.validate_entity_exists--raises","title":"Raises","text":"<p>ValueError     If entity_id is not found in entity_dict</p>"},{"location":"conversion/validation_utils/#app.conversion.validation_utils.validate_entity_exists--examples","title":"Examples","text":"<p>entities = {'battery': [1, 2, 3], 'solar': [4, 5, 6]} validate_entity_exists('battery', entities)  # No error validate_entity_exists('wind', entities)     # Raises ValueError</p>"},{"location":"conversion/validation_utils/#app.conversion.validation_utils.validate_linear_programming_constraint","title":"<code>validate_linear_programming_constraint(left_operand, right_operand, operation)</code>","text":"<p>Validate that an operation maintains linear programming constraints.</p>"},{"location":"conversion/validation_utils/#app.conversion.validation_utils.validate_linear_programming_constraint--parameters","title":"Parameters:","text":"<p>left_operand : Any     Left side of the operation right_operand : Any     Right side of the operation operation : str     Type of operation (\"multiplication\" or \"division\")</p>"},{"location":"conversion/validation_utils/#app.conversion.validation_utils.validate_linear_programming_constraint--raises","title":"Raises:","text":"<p>ValueError     If the operation violates linear programming constraints</p>"},{"location":"infra/quantity/","title":"Quantity","text":""},{"location":"infra/quantity/#app.infra.quantity","title":"<code>app.infra.quantity</code>","text":""},{"location":"infra/quantity/#app.infra.quantity.Parameter","title":"<code>Parameter</code>","text":"<p>               Bases: <code>Quantity</code></p> <p>Represents a scalar, static quantity used as a parameter in the model.</p> <p>This subclass of <code>Quantity</code> stores a single numerical value and provides methods for exporting it into a format usable by optimization solvers.</p> <p>Attributes:</p> Name Type Description <code>-</code> <code>value (float or int</code> <p>The scalar value of the parameter.</p>"},{"location":"infra/quantity/#app.infra.quantity.Quantity","title":"<code>Quantity</code>","text":"<p>               Bases: <code>ABC</code></p> <p>Abstract base class for representing any abstract quantity (e.g. power flow, financial amount) within an entity.</p> <p>Quantities may represent static scalar parameters (Parameter) or dynamic time series (TimeSeriesObject). This class defines the interface for how quantities are integrated into the optimization model.</p>"},{"location":"infra/quantity/#app.infra.quantity.Quantity.convert","title":"<code>convert(converter, **kwargs)</code>","text":"<p>Converts the quantity into a pulp-compatible format (e.g., a time series array or a value-variable).</p>"},{"location":"infra/relation/","title":"Relation","text":""},{"location":"infra/relation/#app.infra.relation","title":"<code>app.infra.relation</code>","text":"<p>Relation and expression system for energy community modeling.</p> <p>This module provides the core expression system for representing and converting mathematical relations in energy system optimization models. It supports arithmetic operations, comparisons, entity references with time offsets, and specialized expression types for conditional and temporal constraints.</p>"},{"location":"infra/relation/#app.infra.relation.AssignmentExpression","title":"<code>AssignmentExpression</code>","text":"<p>               Bases: <code>Expression</code></p>"},{"location":"infra/relation/#app.infra.relation.AssignmentExpression.convert","title":"<code>convert(converter, t, time_set=None, new_freq=None)</code>","text":"<p>Convert assignment expression using the provided converter</p>"},{"location":"infra/relation/#app.infra.relation.BinaryExpression","title":"<code>BinaryExpression</code>","text":"<p>               Bases: <code>Expression</code></p>"},{"location":"infra/relation/#app.infra.relation.BinaryExpression.convert","title":"<code>convert(converter, t, time_set=None, new_freq=None)</code>","text":"<p>Convert binary expression using the provided converter</p>"},{"location":"infra/relation/#app.infra.relation.BinaryExpression.parse_binary","title":"<code>parse_binary(expr)</code>  <code>classmethod</code>","text":"<p>Parse constraint expressions like 'battery1.discharge_power(t) &lt; 2 * battery1.discharge_power(t-1)'</p>"},{"location":"infra/relation/#app.infra.relation.EntityReference","title":"<code>EntityReference</code>","text":"<p>               Bases: <code>Expression</code></p> <p>Expression representing a reference to an entity with optional time offset.</p> <p>Entity references are used to access variables or properties of energy system components at specific time steps. Examples include 'battery1.discharge_power(t)' or 'pv1.generation(t-1)'.</p>"},{"location":"infra/relation/#app.infra.relation.EntityReference.__init__","title":"<code>__init__(entity_id, time_offset=0)</code>","text":"<p>Initialize entity reference.</p>"},{"location":"infra/relation/#app.infra.relation.EntityReference.__init__--parameters","title":"Parameters","text":"<p>entity_id : str     Identifier for the entity (e.g., 'battery1.discharge_power') time_offset : int, default=0     Time offset relative to current time step:     - 0 for current time (t)     - -1 for previous time step (t-1)     - +1 for next time step (t+1)</p>"},{"location":"infra/relation/#app.infra.relation.EntityReference.__str__","title":"<code>__str__()</code>","text":"<p>Return string representation with time offset notation.</p>"},{"location":"infra/relation/#app.infra.relation.EntityReference.convert","title":"<code>convert(converter, t, time_set=None, new_freq=None)</code>","text":"<p>Convert entity reference using the provided converter.</p>"},{"location":"infra/relation/#app.infra.relation.EntityReference.convert--parameters","title":"Parameters","text":"<p>converter : Any     Converter object that handles format-specific conversion t : int     Current time step time_set : int, optional     Time set for constraint generation new_freq : str, optional     Frequency specification for time conversion</p>"},{"location":"infra/relation/#app.infra.relation.EntityReference.convert--returns","title":"Returns","text":"<p>Any     Converted entity reference representation</p>"},{"location":"infra/relation/#app.infra.relation.EntityReference.get_ids","title":"<code>get_ids()</code>","text":"<p>Return list containing this entity's ID.</p>"},{"location":"infra/relation/#app.infra.relation.EntityReference.get_ids--returns","title":"Returns","text":"<p>List[str]     List with single entity ID</p>"},{"location":"infra/relation/#app.infra.relation.Expression","title":"<code>Expression</code>","text":"<p>               Bases: <code>ABC</code></p> <p>Abstract base class for all mathematical expressions.</p> <p>This class defines the interface that all expression types must implement for parsing, conversion, and entity ID extraction. Expression objects form a tree structure representing mathematical operations.</p>"},{"location":"infra/relation/#app.infra.relation.Expression.__str__","title":"<code>__str__()</code>  <code>abstractmethod</code>","text":"<p>Return string representation of the expression.</p>"},{"location":"infra/relation/#app.infra.relation.Expression.__str__--returns","title":"Returns","text":"<p>str     Human-readable string representation</p>"},{"location":"infra/relation/#app.infra.relation.Expression.convert","title":"<code>convert(converter, t, time_set=None, new_freq=None)</code>  <code>abstractmethod</code>","text":"<p>Convert expression using the provided converter.</p> <p>This method implements the visitor pattern, delegating conversion logic to the converter object which knows how to handle specific target formats (PuLP, pandapower, etc.).</p>"},{"location":"infra/relation/#app.infra.relation.Expression.convert--parameters","title":"Parameters","text":"<p>converter : Any     Converter object that handles format-specific conversion t : int     Current time step time_set : int, optional     Time set for constraint generation new_freq : str, optional     Frequency specification for time conversion</p>"},{"location":"infra/relation/#app.infra.relation.Expression.convert--returns","title":"Returns","text":"<p>Any     Converted representation (format depends on converter)</p>"},{"location":"infra/relation/#app.infra.relation.Expression.get_ids","title":"<code>get_ids()</code>  <code>abstractmethod</code>","text":"<p>Extract all entity IDs referenced in this expression.</p>"},{"location":"infra/relation/#app.infra.relation.Expression.get_ids--returns","title":"Returns","text":"<p>List[str]     List of unique entity IDs used in the expression</p>"},{"location":"infra/relation/#app.infra.relation.IfThenExpression","title":"<code>IfThenExpression</code>","text":"<p>               Bases: <code>Expression</code></p>"},{"location":"infra/relation/#app.infra.relation.IfThenExpression.convert","title":"<code>convert(converter, t, time_set=None, new_freq=None)</code>","text":"<p>Convert if-then expression using the provided converter</p>"},{"location":"infra/relation/#app.infra.relation.Literal","title":"<code>Literal</code>","text":"<p>               Bases: <code>Expression</code></p> <p>Expression representing a literal numeric value.</p> <p>Literals are terminal nodes in expression trees that contain constant numeric values (integers or floats).</p>"},{"location":"infra/relation/#app.infra.relation.Literal.__init__","title":"<code>__init__(value)</code>","text":"<p>Initialize literal with numeric value.</p>"},{"location":"infra/relation/#app.infra.relation.Literal.__init__--parameters","title":"Parameters","text":"<p>value : Union[int, float]     The numeric value this literal represents</p>"},{"location":"infra/relation/#app.infra.relation.Literal.__str__","title":"<code>__str__()</code>","text":"<p>Return string representation of the literal value.</p>"},{"location":"infra/relation/#app.infra.relation.Literal.convert","title":"<code>convert(converter, t, time_set=None, new_freq=None)</code>","text":"<p>Convert literal using the provided converter.</p>"},{"location":"infra/relation/#app.infra.relation.Literal.convert--parameters","title":"Parameters","text":"<p>converter : Any     Converter object that handles format-specific conversion t : int     Current time step (unused for literals) time_set : int, optional     Time set for constraint generation (unused for literals) new_freq : str, optional     Frequency specification (unused for literals)</p>"},{"location":"infra/relation/#app.infra.relation.Literal.convert--returns","title":"Returns","text":"<p>Any     Converted literal representation</p>"},{"location":"infra/relation/#app.infra.relation.Literal.get_ids","title":"<code>get_ids()</code>","text":"<p>Return empty list as literals contain no entity references.</p>"},{"location":"infra/relation/#app.infra.relation.Literal.get_ids--returns","title":"Returns","text":"<p>List[str]     Empty list (literals have no entity IDs)</p>"},{"location":"infra/relation/#app.infra.relation.Operator","title":"<code>Operator</code>","text":"<p>               Bases: <code>Enum</code></p> <p>Enumeration of supported mathematical and comparison operators.</p> <p>This enum defines all operators that can be used in mathematical expressions within the energy system modeling framework. Each operator contains both its string representation and category information for proper handling.</p>"},{"location":"infra/relation/#app.infra.relation.Operator.category","title":"<code>category</code>  <code>property</code>","text":"<p>Return the category of the operator (comparison or arithmetic).</p>"},{"location":"infra/relation/#app.infra.relation.Operator.symbol","title":"<code>symbol</code>  <code>property</code>","text":"<p>Return the string representation of the operator.</p>"},{"location":"infra/relation/#app.infra.relation.Operator.__str__","title":"<code>__str__()</code>","text":"<p>Return string representation of the operator.</p>"},{"location":"infra/relation/#app.infra.relation.Operator.arithmetic_operators","title":"<code>arithmetic_operators()</code>  <code>classmethod</code>","text":"<p>Return all arithmetic operators.</p>"},{"location":"infra/relation/#app.infra.relation.Operator.arithmetic_strings","title":"<code>arithmetic_strings()</code>  <code>classmethod</code>","text":"<p>Return string representations of arithmetic operators.</p>"},{"location":"infra/relation/#app.infra.relation.Operator.comparison_operators","title":"<code>comparison_operators()</code>  <code>classmethod</code>","text":"<p>Return all comparison operators.</p>"},{"location":"infra/relation/#app.infra.relation.Operator.comparison_strings","title":"<code>comparison_strings()</code>  <code>classmethod</code>","text":"<p>Return string representations of comparison operators.</p>"},{"location":"infra/relation/#app.infra.relation.Operator.from_symbol","title":"<code>from_symbol(symbol)</code>  <code>classmethod</code>","text":"<p>Create an operator from its string symbol.</p>"},{"location":"infra/relation/#app.infra.relation.Relation","title":"<code>Relation</code>","text":""},{"location":"infra/relation/#app.infra.relation.Relation.convert","title":"<code>convert(converter, objects, time_set=None, new_freq=None)</code>","text":"<p>Convert this relation using the provided converter for each time step.</p> <p>This implements dependency inversion - the relation delegates to the converter, which contains all format-specific logic (PuLP, pandapower, etc.).</p>"},{"location":"infra/relation/#app.infra.relation.Relation.convert--parameters","title":"Parameters:","text":"<p>converter : object     The converter that knows how to handle conversion (e.g., PulpConverter) objects : dict     Dictionary mapping entity IDs to their variables/objects time_set : int     The time set to iterate over new_freq : str     Frequency (optional)</p>"},{"location":"infra/relation/#app.infra.relation.Relation.convert--returns","title":"Returns:","text":"<p>dict     Dictionary containing the constraint name and the list of constraints</p>"},{"location":"infra/relation/#app.infra.relation.Relation.parse","title":"<code>parse(expr)</code>","text":"<p>Parse the expression string into an Expression tree</p>"},{"location":"infra/relation/#app.infra.relation.TimeConditionExpression","title":"<code>TimeConditionExpression</code>","text":"<p>               Bases: <code>Expression</code></p>"},{"location":"infra/relation/#app.infra.relation.TimeConditionExpression.convert","title":"<code>convert(converter, t, time_set=None, new_freq=None)</code>","text":"<p>Convert time condition expression using the provided converter</p>"},{"location":"infra/timeseries_object/","title":"Timeseries object","text":""},{"location":"infra/timeseries_object/#app.infra.timeseries_object","title":"<code>app.infra.timeseries_object</code>","text":""},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject","title":"<code>TimeseriesObject</code>","text":"<p>               Bases: <code>Quantity</code></p> <p>A class representing a time series object using xarray.DataArray as the backend. This class handles multi-dimensional time series data, including reading from CSV files, resampling, and normalizing frequencies. Maintains full backward compatibility with pandas DataFrame-based code while enabling multi-dimensional energy system modeling.</p> <p>:ivar xr.DataArray data: Underlying time series data :ivar str freq: Frequency string (e.g. '1h')</p>"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.__eq__","title":"<code>__eq__(other)</code>","text":"<p>Check equality with another TimeseriesObject.</p> <p>:param TimeseriesObject other: Object to compare :returns bool: True if equal, else False</p>"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.__getattr__","title":"<code>__getattr__(name)</code>","text":"<p>Delegate attribute access to DataArray.</p> <p>:param str name: Attribute name :returns: Attribute value :raises AttributeError: If attribute not found</p>"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.__init__","title":"<code>__init__(**kwargs)</code>","text":"<p>Initialize from xarray, pandas, or CSV file.</p> <p>:param xr.DataArray|pd.DataFrame data: DataArray or DataFrame (optional) :param str input_path: Path to CSV (optional) :param str col: Column name (optional) :param str freq: Frequency string (optional)</p>"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.__repr__","title":"<code>__repr__()</code>","text":"<p>String representation.</p> <p>:returns str: String representation</p>"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.add_dimension","title":"<code>add_dimension(dim_name, coord_values, axis=None)</code>","text":"<p>Add a new dimension.</p> <p>:param str dim_name: Name of new dimension :param list coord_values: Coordinate values :param int|None axis: Axis to add (optional) :returns TimeseriesObject: New TimeseriesObject</p>"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.empty","title":"<code>empty()</code>","text":"<p>Check if data is empty.</p> <p>:returns bool: True if empty, else False</p>"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.get_metadata","title":"<code>get_metadata(key=None)</code>","text":"<p>Get metadata attributes.</p> <p>:param str|None key: Metadata key (optional) :returns dict|Any: All attributes or value for key</p>"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.get_values","title":"<code>get_values(**kwargs)</code>","text":"<p>Get values with optional resampling and slicing.</p> <p>:param str freq: Frequency to resample to (optional) :param int time_set: Number of time steps (optional) :returns np.ndarray: Array of values</p>"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.isel","title":"<code>isel(**kwargs)</code>","text":"<p>Select data by integer indices.</p> <p>:param kwargs: Dimension names and indices :returns TimeseriesObject: New TimeseriesObject with selected data</p>"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.normalize_freq","title":"<code>normalize_freq(freq)</code>  <code>classmethod</code>","text":"<p>Normalize frequency string.</p> <p>:param str freq: Frequency string :returns str|None: Normalized frequency string (e.g. '1h') or None</p>"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.read","title":"<code>read(input_path, col)</code>  <code>staticmethod</code>","text":"<p>Read CSV and return TimeseriesObject.</p> <p>:param str input_path: Path to CSV :param str col: Column name :returns TimeseriesObject: TimeseriesObject with column and timestamp index :raises FileNotFoundError: If file does not exist :raises ValueError: If file is empty or invalid :raises KeyError: If column not found</p>"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.resample_to","title":"<code>resample_to(new_freq, method=None, agg='sum', in_place=False)</code>","text":"<p>Resample to new frequency.</p> <p>:param str new_freq: New frequency (e.g. '15min') :param str|None method: Resampling method (optional) :param str agg: Aggregation function (default 'sum') :param bool in_place: Modify in place (default False) :returns TimeseriesObject: Resampled TimeseriesObject :raises ValueError: If frequency cannot be inferred or method unsupported</p>"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.sel","title":"<code>sel(**kwargs)</code>","text":"<p>Select data along dimensions.</p> <p>:param kwargs: Dimension names and values :returns TimeseriesObject: New TimeseriesObject with selected data</p>"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.set_metadata","title":"<code>set_metadata(**attrs)</code>","text":"<p>Set metadata attributes.</p> <p>:param attrs: Metadata attributes :returns TimeseriesObject: New TimeseriesObject with updated metadata</p>"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.to_15m","title":"<code>to_15m(closed='left')</code>","text":"<p>Convert to 15-minute frequency.</p> <p>:param str closed: Which side of bin interval is closed (default 'left') :returns TimeseriesObject: Resampled TimeseriesObject :raises ValueError: If frequency is not set</p>"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.to_1h","title":"<code>to_1h(closed='left')</code>","text":"<p>Convert to 1-hour frequency.</p> <p>:param str closed: Which side of bin interval is closed (default 'left') :returns TimeseriesObject: Resampled TimeseriesObject :raises ValueError: If frequency is not set</p>"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.to_df","title":"<code>to_df()</code>","text":"<p>Convert to pandas DataFrame.</p> <p>:returns pd.DataFrame: DataFrame representation</p>"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.TimeseriesObject.to_nd","title":"<code>to_nd()</code>","text":"<p>Convert to numpy array.</p> <p>:returns np.ndarray: Flattened numpy array</p>"},{"location":"infra/timeseries_object/#app.infra.timeseries_object.infer_freq_from_two_dates","title":"<code>infer_freq_from_two_dates(data)</code>","text":"<p>Infer timeseries frequency from first two timestamps.</p> <p>:param xr.DataArray data: DataArray with 'timestamp' coordinate :returns str: Frequency string (e.g. '1h', '15min') :raises ValueError: If 'timestamp' coordinate is missing</p>"},{"location":"infra/timeseries_object_factory/","title":"Timeseries object factory","text":""},{"location":"infra/timeseries_object_factory/#app.infra.timeseries_object_factory","title":"<code>app.infra.timeseries_object_factory</code>","text":""},{"location":"infra/util/","title":"Util","text":""},{"location":"infra/util/#app.infra.util","title":"<code>app.infra.util</code>","text":""},{"location":"infra/util/#app.infra.util.flatten","title":"<code>flatten(nested_list)</code>","text":"<p>Flatten a nested list.</p>"},{"location":"infra/util/#app.infra.util.get_input_path","title":"<code>get_input_path(filename='input.csv')</code>","text":"<p>Return the absolute path to the input CSV file.</p> <p>By default, returns the path to 'data/input.csv' relative to this file.</p> <p>:param filename: str: Name of the CSV file to locate. :raises FileNotFoundError: If the data folder or file does not exist. :return: Absolute path to the requested CSV file.</p>"},{"location":"model/device/","title":"Device","text":""},{"location":"model/device/#app.model.device","title":"<code>app.model.device</code>","text":""},{"location":"model/entity/","title":"Entity","text":""},{"location":"model/entity/#app.model.entity","title":"<code>app.model.entity</code>","text":""},{"location":"model/entity/#app.model.entity.Entity","title":"<code>Entity</code>","text":"<p>Represents any modelled object (e.g., component, device, node) in the system.</p> <p>Entities form the core building blocks of the energy system model. Each Entity can have quantities (data or decision variables), hierarchical sub-entities, and semantic or optimization-relevant relations.</p> <p>Attributes:</p> Name Type Description <code>-</code> <code>id (str</code> <p>Unique identifier.</p> <code>-</code> <code>quantities (Dict[str, Quantity]</code> <p>Named quantities belonging to this entity.</p> <code>-</code> <code>sub_entities (list[Entity]</code> <p>Optional nested child entities.</p> <code>-</code> <code>relations (list[Relation]</code> <p>Constraints or rules related to this entity.</p> <code>-</code> <code>tags (dict</code> <p>Dictionary of tags associated with this entity.</p> <code>-</code> <code>ts_factory (TimeseriesFactory</code> <p>Used to generate time series objects in an advanced manner.</p>"},{"location":"model/entity/#app.model.entity.Entity.__dir__","title":"<code>__dir__()</code>","text":"<p>Extend the default dir to include parameters and quantities.</p>"},{"location":"model/entity/#app.model.entity.Entity.__getattr__","title":"<code>__getattr__(name)</code>","text":"<p>Get an attribute by name, checking parameters and quantities.</p>"},{"location":"model/entity/#app.model.entity.Entity.__init__","title":"<code>__init__(id=None, ts_factory=DefaultTimeseriesFactory(), **kwargs)</code>","text":"<p>Initialize the entity with an optional id.</p>"},{"location":"model/entity/#app.model.entity.Entity.__str__","title":"<code>__str__()</code>","text":"<p>String representation of the entity.</p>"},{"location":"model/entity/#app.model.entity.Entity.add_sub_entity","title":"<code>add_sub_entity(entity)</code>","text":"<p>Add a sub_entity to the current entity.</p>"},{"location":"model/entity/#app.model.entity.Entity.convert","title":"<code>convert(time_set, new_freq, converter)</code>","text":"<p>Delegate to a visitor for conversion.</p>"},{"location":"model/model/","title":"Model","text":""},{"location":"model/model/#app.model.model","title":"<code>app.model.model</code>","text":""},{"location":"model/model/#app.model.model.Model","title":"<code>Model</code>","text":"<p>Represents the entire simulation or optimization model.</p> <p>The Model serves as the container for all top-level entities, configuration parameters, time settings, and solver-specific logic. It provides an interface to convert the entire system into an optimization problem.</p> <p>Attributes:</p> Name Type Description <code>-</code> <code>id (Optional[str]</code> <p>Identifies of the model.</p> <code>-</code> <code>entities (list[Entity]</code> <p>Top-level entities (e.g., buses, generators, loads).</p> <code>-</code> <code>time_set (int</code> <p>Number of time steps in the simulation.</p> <code>-</code> <code>frequency (str</code> <p>Time resolution (e.g., '1h', '15min').</p>"},{"location":"model/model/#app.model.model.Model.__init__","title":"<code>__init__(id=None, timeset_builder=TimesetBuilder(), **kwargs)</code>","text":"<p>Initialize the model with an optional name</p>"},{"location":"model/model/#app.model.model.Model.__str__","title":"<code>__str__()</code>","text":"<p>String representation of the model</p>"},{"location":"model/model/#app.model.model.Model.build","title":"<code>build(id, config, time_set, frequency)</code>  <code>classmethod</code>","text":"<p>Build the model from a configuration dictionary</p>"},{"location":"model/model/#app.model.model.Model.convert","title":"<code>convert(converter, time_set=None, new_freq=None)</code>","text":"<p>Convert the model to an optimization/simulation problem</p>"},{"location":"model/slack/","title":"Slack","text":""},{"location":"model/slack/#app.model.slack","title":"<code>app.model.slack</code>","text":""},{"location":"model/slack/#app.model.slack.Slack","title":"<code>Slack</code>","text":"<p>               Bases: <code>Entity</code></p>"},{"location":"model/slack/#app.model.slack.Slack.__str__","title":"<code>__str__()</code>","text":"<p>String representation of the Slack entity.</p>"},{"location":"model/converter/converter/","title":"Converter","text":""},{"location":"model/converter/converter/#app.model.converter.converter","title":"<code>app.model.converter.converter</code>","text":""},{"location":"model/generator/generator/","title":"Generator","text":""},{"location":"model/generator/generator/#app.model.generator.generator","title":"<code>app.model.generator.generator</code>","text":""},{"location":"model/generator/pv/","title":"Pv","text":""},{"location":"model/generator/pv/#app.model.generator.pv","title":"<code>app.model.generator.pv</code>","text":""},{"location":"model/generator/pv/#app.model.generator.pv.PV","title":"<code>PV</code>","text":"<p>               Bases: <code>Generator</code></p>"},{"location":"model/generator/pv/#app.model.generator.pv.PV.__str__","title":"<code>__str__()</code>","text":"<p>String representation of the PV entity.</p>"},{"location":"model/generator/wind_turbine/","title":"Wind turbine","text":""},{"location":"model/generator/wind_turbine/#app.model.generator.wind_turbine","title":"<code>app.model.generator.wind_turbine</code>","text":""},{"location":"model/grid_component/bus/","title":"Bus","text":""},{"location":"model/grid_component/bus/#app.model.grid_component.bus","title":"<code>app.model.grid_component.bus</code>","text":""},{"location":"model/grid_component/bus/#app.model.grid_component.bus.Bus","title":"<code>Bus</code>","text":"<p>               Bases: <code>GridComponent</code></p>"},{"location":"model/grid_component/bus/#app.model.grid_component.bus.Bus.__str__","title":"<code>__str__()</code>","text":"<p>String representation of the Bus entity.</p>"},{"location":"model/grid_component/grid_component/","title":"Grid component","text":""},{"location":"model/grid_component/grid_component/#app.model.grid_component.grid_component","title":"<code>app.model.grid_component.grid_component</code>","text":""},{"location":"model/grid_component/grid_component/#app.model.grid_component.grid_component.GridComponent","title":"<code>GridComponent</code>","text":"<p>               Bases: <code>Entity</code></p> <p>Represents both the physical and abstract elements of an electrical grid, like transformers, buses, nodes and power lines.</p>"},{"location":"model/grid_component/line/","title":"Line","text":""},{"location":"model/grid_component/line/#app.model.grid_component.line","title":"<code>app.model.grid_component.line</code>","text":""},{"location":"model/grid_component/line/#app.model.grid_component.line.Line","title":"<code>Line</code>","text":"<p>               Bases: <code>GridComponent</code></p>"},{"location":"model/grid_component/line/#app.model.grid_component.line.Line.__str__","title":"<code>__str__()</code>","text":"<p>String representation of the Bus entity.</p>"},{"location":"model/load/load/","title":"Load","text":""},{"location":"model/load/load/#app.model.load.load","title":"<code>app.model.load.load</code>","text":""},{"location":"model/load/load/#app.model.load.load.Load","title":"<code>Load</code>","text":"<p>               Bases: <code>Device</code></p>"},{"location":"model/load/load/#app.model.load.load.Load.__str__","title":"<code>__str__()</code>","text":"<p>String representation of the Load entity.</p>"},{"location":"model/storage/battery/","title":"Battery","text":""},{"location":"model/storage/battery/#app.model.storage.battery","title":"<code>app.model.storage.battery</code>","text":""},{"location":"model/storage/battery/#app.model.storage.battery.Battery","title":"<code>Battery</code>","text":"<p>               Bases: <code>Storage</code></p>"},{"location":"model/storage/battery/#app.model.storage.battery.Battery.__str__","title":"<code>__str__()</code>","text":"<p>String representation of the Battery entity.</p>"},{"location":"model/storage/hot_water_storage/","title":"Hot water storage","text":""},{"location":"model/storage/hot_water_storage/#app.model.storage.hot_water_storage","title":"<code>app.model.storage.hot_water_storage</code>","text":""},{"location":"model/storage/storage/","title":"Storage","text":""},{"location":"model/storage/storage/#app.model.storage.storage","title":"<code>app.model.storage.storage</code>","text":""},{"location":"operation/example_optimization/","title":"Example optimization","text":""},{"location":"operation/example_optimization/#app.operation.example_optimization","title":"<code>app.operation.example_optimization</code>","text":""}]}